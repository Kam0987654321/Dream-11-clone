var TB=TB||{};!function(){function e(e,n){function s(e){if(window){var r=e+"-practice",o=window.location.href||"",t=o.split("//").length&&o.split("//")[1]||"";window.location.search&&(t=t.split("?")[0]);var n=t.split("/");n.splice(0,1);var s=n[0],a=d+"-practice",i="";s===d?(n[0]=e,i="/"+n.join("/"),window.location.href=i):s===a?(i="/"+r,window.location.href=i):window.location.reload()}}function a(e){showLoader("Changing Course. Please wait.");var r=function(r){forceSessionRefresh(!0);var o={id:e.id||"",name:e.name||""};TB.UpdateCurrentCourseInStorage(o),s(e.url)},o=function(e){e?showAlert(e.message||"Something went wrong, Please contact at support@testbook.com","error","large",5e3):showAlert("Please check your internet connection or contact at support@testbook.com","error","large",5e3),hideLoader()},t={course:e.id};n.setCurrentCourse(t,r,o)}var i="/tb-money",c={},u=$("#sid")&&$("#sid").val()||-1,l=Object.prototype.hasOwnProperty;this.tbCourseArr=JSON.parse($("#course_info")&&$("#course_info").val()||"[]"),this.showStuCourseDropdown=!0;var d=document.getElementById("curCourseURL")&&document.getElementById("curCourseURL").value||"";this.stuObj={isShowCoBrandingLogo:!1,coBrandingLogoSrc:"",currentCourseObj:{},enrollmentsArr:[],profilePic:"",isLoggedIn:isLoggedIn()||!1,tbMoney:0},this.updateCurrentCourse=function(e){return a(e),!1};var g={},f=this,p=function(e){var r={id:e,name:g[e]&&g[e].abbr||"",url:g[e]&&g[e].URL||""};return r},h=function(e,r){for(var o=0;o<e.length;o++)if(e[o].course&&e[o].course.id==r)return o;return-1};e.$on(r,function(e,r){r&&(f.stuObj.currentCourseObj=p(r.courseId||""))}),e.$on(t,function(e,r){r&&(f.showStuCourseDropdown=!1)}),e.$on(o,function(e,r){if(r)if(r.isEnrolled){var o={course:p(r.courseId||"")};Object.keys(o).length&&f.stuObj.enrollmentsArr.push(o)}else{var t=h(f.stuObj.enrollmentsArr,r.courseId||"");t!==-1&&f.stuObj.enrollmentsArr.splice(t,1)}});var b=function(e){for(var r={},o=0;o<e.length;o++)if(e[o].isGroup)for(var t=0;t<e[o].courses.length;t++)r[e[o].courses[t].id]=e[o].courses[t];else r[e[o].id]=e[o];return r},O=function(e){for(var r=[],o=0;o<e.length;o++)g[e[o].course.id]&&(e[o].course.url=g[e[o].course.id].URL,e[o].course.hasOwnProperty("isInactive")&&e[o].course.isInactive||r.push(e[o]));return r};this.isShowNav=function(e){return e!==i||this.stuObj&&0!==this.stuObj.tbMoney};var m=function(){var e=function(e){if(e.hasOwnProperty("message"))showAlert(e.message||"Something went wrong please contact at support@testbook.com","error","small",5e3);else{c=e.data||{};var r=l.call(c,"streaks")&&l.call(c.streaks,"practise")&&l.call(c.streaks.practise,"coins"),o=l.call(c,"streaks")&&l.call(c.streaks,"questions")&&l.call(c.streaks.questions,"coins");l.call(c,"cobrandingInfo")&&c.cobrandingInfo.logo&&(f.stuObj.coBrandingLogoSrc=c.cobrandingInfo.logo,f.stuObj.isShowCoBrandingLogo=!0),l.call(c,"currentCourse")&&c.currentCourse.id&&(f.stuObj.currentCourseObj=c.currentCourse),l.call(c,"image")&&c.image&&(f.stuObj.profilePic=c.image),l.call(c,"enrollments")&&c.enrollments.length&&(f.stuObj.enrollmentsArr=O(c.enrollments)),l.call(c,"referral")&&l.call(c.referral,"coins")&&(f.stuObj.tbMoney+=c.referral.coins),r&&(f.stuObj.tbMoney+=c.streaks.practise.coins),o&&(f.stuObj.tbMoney+=c.streaks.questions.coins),l.call(c,"coinsExpensedBackup")&&(f.stuObj.tbMoney-=c.coinsExpensedBackup),l.call(c,"referral")&&(f.stuObj.referral=c.referral)}};g=b(f.tbCourseArr),"-1"!=u&&TB.GetStudentFromStorage(e)};angular.element(document).ready(function(){$(".js-group-one, #js-header-options-sidebar .course-btn").click(function(e){e.stopPropagation(),e.preventDefault(),$(this).toggleClass("active"),$(this).parent().children("ul").slideToggle()})}),m()}var r="COURSE_CHANGED",o="COURSE_ENROLLED_DE_ENROLLED",t="REMOVE_STU_COURSE_DROPDOWN",n=angular.module("tbHeaderApp",["Testbook"]);n.controller("headerCtrl",["$scope","TB",e])}();
!function(){var t="reportOther",e="reportText",o="reportSubmitBtn",r=7,n=$("#sid").val()||-1,a="sid_"+n+"_tb_reported_qid_";angular.module("tbReportQuestion",[]).directive("reportCta",function(){return{restrict:"E",scope:{qid:"@qid",chapterId:"@chapterId",testId:"@testId",courseId:"@courseId",lang:"@lang",options:"@options",reportBtnType:"@btnType"},templateUrl:"/views/partials/components/report-cta.html",controller:["$scope","$rootScope","TB",function(i,s,d){function l(){$("#"+t)[0]&&$("#"+t).remove(),$("body").append(p()),$("#"+o).on("click",i.report)}i.reportTypeArr=i.options&&i.options.length?i.options.split(","):["Wrong Question","Wrong Answer","Formatting Issue","No Solution","Others"],i.hasReported=function(){var t=i.qid||"";return $(".dropdown-toggle").dropdown(),""!=getLocalStorage(a+t)},i.setReportType=function(e){return"-1"==n?(showAlert("Please Login to Report Question","error","small",3e3),!1):(l(),i.type=e,$("#"+t).modal(),void 0)};var p=function(){return'<div class="modal fade" id="'+t+'" tabindex="-1" role="dialog"><div class="modal-dialog"><div class="modal-content"><div class="modal-header pad-v12"><button type="button" class="close" data-dismiss="modal"><span aria-hidden="true"><i class="tb-icon tb-clear"></i></span></button><h4 class="modal-title">Tell us more</h4></div><div class="modal-body"><textarea class="form-control" rows="5" id="'+e+'" placeholder="Tell us something more about the problem you are facing."></textarea></div><div class="modal-footer pad-0"><button id="'+o+'" type="button" class="btn btn-test-primary btn-block btn-lg border-radius-t0"><span>Submit</span><span class="tb-icon tb-spinner spin-me align-top hidden"></span></button></div></div></div></div>'};i.report=function(){var n=$("#"+e).val()||"";$("#"+o).attr("disabled","disabled").find("span").toggleClass("hidden");var l=function(e){s.$emit("REPORT_QUESTION",{qid:i.qid,reportText:n,lang:i.lang,type:i.type}),setLocalStorage(a+i.qid,!0,r),$("#"+t).modal("hide")},p=function(t){showAlert(t&&t.message||"Something went wrong, Please try again.","error","sm",3e3)},c={qid:i.qid,courseId:i.courseId,lang:i.lang,type:i.type,value:n,client:i.client||"web"};i.chapterId?c.chapterId=i.chapterId:c.testId=i.testId,d.reportQuestion(c,l,p)}}]}})}();
function initScrollSidebarElemIntoViewport(){var e=".js-chapters-list-item-heading";if($(e)&&$(e).length){var t,r;$(".js-chapters-list-item-heading").on("click",function(){t=$(this),setTimeout(function(){r=t.parent().position().top,$(".js-chapters-list").animate({scrollTop:"+="+r},500)},355)})}else setTimeout(function(){initScrollSidebarElemIntoViewport()},1e3)}$(document).ready(function(){$("#tbOnBoardingModal").on("hidden.bs.modal",function(){$(this).removeData("bs.modal")}),$(".js-practice-onboarding-iframe").on("load",function(){$(".js-practice-iframe-loader").toggleClass("hidden")})}),function(){var e=angular.module("practiceApp",["ngRoute","Testbook","TestService","tbReportQuestion","tbHeaderApp","globalLanguage"]);e.factory("$exceptionHandler",["$log",function(e){return function(e,t){}}]);var t=1500,r=20,o="tbPracticeSessionStart",a=6e3,n="tbPracticeAttemptTrack",i=52,s=56,c="hn",u="en",l="Hindi",p="English";e.config(["$routeProvider","$locationProvider",function(e,t){e.when("/:coursePractice/",{templateUrl:"/views/partials/practice/analysis.html?v=0.1",controller:"analysisCtrl"}).when("/:coursePractice/analysis",{templateUrl:"/views/partials/practice/analysis.html?v=0.1",controller:"analysisCtrl"}).when("/:coursePractice/bookmarks",{templateUrl:"/views/partials/practice/bookmarks.html?v=0.1",controller:"bookmarksCtrl"}).when("/:coursePractice/:sectionName/:chapterName",{templateUrl:"/views/partials/practice/listview.html?v=0.1",controller:"listViewCtrl",reloadOnSearch:!1}).when("/:coursePractice/:sectionName/:chapterName/:id",{templateUrl:"/views/partials/practice/question.html?v=0.1",controller:"questionCtrl"}).otherwise({redirectTo:"/bank-po-practice/"}),window.history&&window.history.pushState&&t.html5Mode(!0)}]),e.service("metaTagService",function(){var e="Testbook | Practice",t="",r="",o=!1,a="",n="",i="",s=!1,c=!1;return{setMetaTags:function(o,a,n){e=o,t=a,r=n},setCanonicalUrl:function(e){a=e},setIsShowCanonicalUrl:function(e){o=e},getMetaPrev:function(){return n},getMetaNext:function(){return i},setMetaPrev:function(e){n=e},setMetaNext:function(e){i=e},getIsShowMetaPrev:function(){return s},getIsShowMetaNext:function(){return c},setIsShowMetaPrev:function(e){s=e},setIsShowMetaNext:function(e){c=e},getCanonicalUrl:function(){return a},getIsShowCanonicalUrl:function(){return o},getPageTitle:function(){return e},getMetaDescription:function(){return t},getMetaKeywords:function(){return r}}}),e.service("practiceCommonService",["testService","TB","$rootScope",function(e,t,r){var o=864e5,a={NUMERICAL:"numerical",MCQ:"mcq"},n="practiceQuestion",i={lname:u};document.getElementById("tblang")&&document.getElementById("tblang").value===c&&(i.lname=c),this.getLanguageStr=function(){return i.lname},this.changeLanguageStr=function(){i.lname=i.lname===u?c:u};var s="SESSION_PERSISTS";this.PRACTICE_CHAPTERS_RESUMED="PRACTICE_CHAPTERS_RESUMED",this.PRACTICE_CHAPTERS_STARTED="PRACTICE_CHAPTERS_STARTED";var l=function(e){for(var t=0;t<e.length;t++)removeLocalStorage(e[t]);return setCookie(s,"true"),!0};getCookie(s)||l([this.PRACTICE_CHAPTERS_RESUMED,this.PRACTICE_CHAPTERS_STARTED]),this.correctQueStreakCount=0,this.wrongQueStreakCount=0,this.SEO_SPECIFIC_TO_COURSE={"566947a4a7b57b398faca54b":{HOME_DESC:"Free Online Practice for SSC CGL, CHSL, Stenographer | Get Thousands of Free Questions with Mock Tests | Start Practicing for Quant, LR, GA, English & More.",HOME_TITLE:"SSC CGL & CHSL Free Practice Set Online for Tier I & Tier II",ANALYSIS_DESC:"SSC CGL, CHSL, Stenographer - Free Online Practice (Tier I & Tier II) | Attempt Thousands of Questions with Complete Solutions & Detailed Analysis of all topics.",ANALYSIS_TITLE:"SSC Questions & Detailed Solutions with Topic-wise Analysis"},"557af9de0ea5ce31f0529187":{HOME_DESC:"Free Online Practice for Placement & Aptitude Exams | Practice Thousands of Free Questions of Logical Reasoning, Verbal & English, Quantitative Aptitude & more.",HOME_TITLE:"Free Company Placement & General Aptitude Questions Online",ANALYSIS_DESC:"Free Online Practice Questions for Company Placement Exams like TCS, L&T, Tech Mahindra, Infosys and General Aptitude for MBA Exams like CAT, XAT, SNAP, IIFT.",ANALYSIS_TITLE:"Free Aptitude Questions | Detailed Solutions, Performance Report"},"55a57ad3a7b57b49e58559ed":{HOME_DESC:"GATE Mechanical - Free Online Practice | Questions on Heat Transfer, Fluid Mechanics, Thermodynamics, Mechanics, Strength of Material, Applications & more!",HOME_TITLE:"Free Online GATE ME Practice Questions | Preparation Made Easy!",ANALYSIS_DESC:"Free Online Practice & Preparation of GATE Mechanical (ME) | Attempt Free Online Questions & Mock Tests with Complete Solutions and Detailed Performance Report.",ANALYSIS_TITLE:"GATE ME - Free Questions & Answers with Performance Analysis"},"55a57ad3a7b57b49e58559ee":{HOME_DESC:"GATE Electrical - Free Online Practice | Attempt Free Questions on Circuits, Networks & Fields, Analog Electronics, Control Systems, Power Systems, Machines etc.",HOME_TITLE:"GATE EE Free Online Preparation | Ace your Exam with Practice!",ANALYSIS_DESC:"Free Online Practice for GATE Electrical (EE) | Start Attempting Free Online Questions & Mock Tests and Get Complete Solutions and Detailed Performance Analysis.",ANALYSIS_TITLE:"GATE EE - Free Questions with Detailed Solutions and Analysis"},"557af9de0ea5ce31f052918b":{HOME_DESC:"Current Affairs & General Knowledge – Practice Free Online | Free Questions on LATEST Financial & Banking Awareness, GK, Current Affairs, General Awareness!",HOME_TITLE:"Free Online Practice for Current Affairs & General Knowledge",ANALYSIS_DESC:"Free Online Practice of Daily & Latest Current Affairs for all Banking, Government and other Competitive, Entrance & Recruitment exams with Performance Analysis.",ANALYSIS_TITLE:"Free Daily Current Affairs, General & Financial Awareness Qs"},"557569e82a39650f6f395648":{HOME_DESC:"Bank PO Free Online Practice | Quant & DI, English, General Awareness, Reasoning, Computer for SBI, IBPS, RRB Officer, Indian Post Payments Bank, Indian Bank & more.",HOME_TITLE:"Attempt Free Bank PO Questions Online | Prelims & Mains",ANALYSIS_DESC:"Online Practice for Bank Clerk | Free Questions & Mock Tests with Complete Solutions & Detailed Performance Analysis for SBI, IBPS, RRB Office Assistant & more!",ANALYSIS_TITLE:"Bank PO - Free Questions & Answers with Detailed Analysis"},"55a5784fa7b57b49a29e2125":{HOME_DESC:"GATE Electronics - Free Online Practice | Attempt Free Questions on Network Theory, Control Systems, Communication, Analog Circuits, Signals & Systems & More.",HOME_TITLE:"GATE Electronics Free Practice Online | Preparation Made Easy!",ANALYSIS_DESC:"Practice Free Online Questions for GATE Electronics (EC) | Attempt Practice Questions & Mock Tests to Get Complete Solutions with Detailed Performance Analysis.",ANALYSIS_TITLE:"GATE EC - Practice Free Questions with Solutions and Analysis"},"568a751185111b4193101100":{HOME_DESC:"Bank Clerk Free Online Practice | Quant & DI, English, General Awareness, Logical Reasoning, Computer for SBI Clerk, IBPS Clerk, IBPS RRB Office Assistant & more.",HOME_TITLE:"Free Bank Clerk Questions Online | Practice for Prelims & Mains",ANALYSIS_DESC:"Online Practice for Bank Clerk | Attempt Free Questions & Mock Tests with Detailed Solutions & Performance Analysis for IBPS Clerk, SBI Clerk & RRB Assistant.",ANALYSIS_TITLE:"Bank Clerk - Practice Free Questions with Detailed Analysis"},"569c9730995a2d097081cf8a":{HOME_DESC:"Railways Free Online Practice Tests | Quant & DI, English, General Awareness, Logical Reasoning, Computer for RRB NTPC Exam.",HOME_TITLE:"Free Railways RRB NTPC Questions Online | Practice @ Testbook.com",ANALYSIS_DESC:"Online Practice for Railways RRB NTPC | Attempt Free Questions & Mock Tests with Detailed Solutions & Performance Analysis for RRB NTPC.",ANALYSIS_TITLE:"Railways RRB NTPC - Practice Free Questions with Detailed Analysis."}},this.getQueNo=function(e,t){if(e&&t&&t.length)for(var r=0;r<t.length;r++)if(e==t[r]._id)return r;return 0},this.generateValueToKeyMap=function(e){e=e||{};var t={};for(var r in e)t[e[r]]=r;return t},this.getCourseName=function(){for(var e=window.location.pathname.split("/")[1].split("-"),t="",r=0;r<e.length-1;r++)t+=e[r].toUpperCase()+" ";return t},this.INITIAL_TIME="Mon Jan 01 1 05:30:00 GMT+0530 (IST)",this.getPhpVariables=function(){return{currentCourseId:document.getElementById("cur-course-id")&&document.getElementById("cur-course-id").value||"",currentCourseUrl:document.getElementById("curCourseURL")&&document.getElementById("curCourseURL").value||""}},this.phpVariables=this.getPhpVariables(),this.getRouteVars=function(e){for(var t=e.split("-"),r="",o=0;o<t.length-1;o++)t[o]&&(r+=t[o],o<t.length-2&&(r+="-"));return{routeChapterName:r,chapterId:t[t.length-1]}},this.isCorrect=function(e){return e&&e.mo==e.co},this.isNumCorrect=function(e){return e&&e.hasOwnProperty("range")&&parseFloat(e.range.start)<=parseFloat(e.mo)&&parseFloat(e.range.end)>=parseFloat(e.mo)},this.getFromSessionStorage=function(e){var t="";if(sessionStorage){var r=sessionStorage.getItem(e);r&&(t=JSON.parse(r))}return t},this.setToSessionStorage=function(e,t){var r="";sessionStorage&&(r=void 0!=t?JSON.stringify(t):"{}",sessionStorage.setItem(e,r))},this.getResponseState=function(e){var t="";return this.isCorrect(e)||this.isNumCorrect(e)?t="correctQues":""==e.mo?t="skippedQues":(this.isWrong(e)||this.isNumWrong(e))&&(t="incorrectQues"),t},this.isWrong=function(e){return e&&""!=e.mo&&e.mo!=e.co},this.isNumWrong=function(e){return""!=e.mo&&!this.isNumCorrect(e)},this.isSkipped=function(e){return e&&""==e.mo},this.isSeen=function(e){return!e},this.validateDate=function(e){return!isNaN(new Date(e).getTime())},this.getDaysDiff=function(e,t){return e-=e%o,t-=t%o,e&&t&&this.validateDate(e)&&this.validateDate(t)?(e-t)/o:0},this.getMinsDiff=function(e,t){return e&&t&&this.validateDate(e)&&this.validateDate(t)?(e-t)/6e4:0},this.getSolutionDesc=function(t,r,o){return t[r].hasOwnProperty(o)&&t[r][o].hasOwnProperty("sol")?e.parseHTML(t[r][o].sol[0].value||""):""},this.getProcessedString=function(e,t,r){return e?e.split(t).join(r):""},this.getTimeDifference=function(e,t){var r=this.getDaysDiff(t,new Date(e).getTime()),o=getRoundedFloat(this.getMinsDiff(t,new Date(e).getTime()),0),a=getRoundedFloat(o/60,2);return r?1==r?r+" day ago":r+" days ago":a>=1?1==a?"1 hour ago":a+" hours ago":o<=1?"1 min ago":o+" mins ago"},this.getCustomMap=function(e,t,r,o){var a={};e=e?e:[];for(var n=0;n<e.length;n++)if(e[n][t]){var i="string"==typeof e[n][t]?e[n][t].toLowerCase():e[n][t];a[i]=o?e[n]:e[n][r]}return a},this.getCorrectOption=function(e,t,r){return e[t-1][r]&&e[t-1][r].co||""},this.getNumericalRange=function(e,t,r){var o={start:"0",end:"0"};return e[t-1][r]&&e[t-1][r].hasOwnProperty("range")&&e[t-1][r].range||o},this.getMapToArr=function(e,t){var r=[];for(var o in e)e.hasOwnProperty(o)&&t&&(e[o][t]=o,r.push(e[o]));return r},this.isBookmarked=function(e,t){if(e)for(var r=0;r<e.length;r++)if(e[r]==t)return!0;return!1},this.isNumerical=function(e,t){return e&&e[t]&&e[t].type==a.NUMERICAL},this.deleteBookmark=function(e,r,o){this.isEnrolledInCourse||this.enrollInCourse(this.phpVariables.currentCourseId);var a=this,i={type:n,qids:r._id?r._id:r.qid},s=function(e){e&&e.success&&(r.isLoadingForBookmark=!1,delete a.bookmarkedQidMap[r._id],o(r._id))},c=function(e){r.isLoadingForBookmark=!1,e?showAlert("Something went wrong, Please contact support (support@testbook.com)","error","small",8e3):showAlert("Please check your internet connection.","error","small",8e3),r.isBookmarked=!0};t.deleteBookmark(e,i,s,c)};var p=function(e,t){var r={};return e.forEach(function(e){r.hasOwnProperty(e)||(r[e]=t)}),r};this.bookmarkedQidMap={},this.getBookmarkedQids=function(e){var r=this,o={type:"savedQuestion"},a=function(e){e&&e.data&&(r.bookmarkedQidMap=p(e.data.qids||[],1))},n=function(e){e?showAlert("Something went wrong, Please contact support (support@testbook.com)","error","small",8e3):showAlert("Please check your internet connection.","error","small",8e3)};t.getSavedQids(o,e,a,n)},this.saveBookmark=function(e,r,o,a,i,s,c){this.isEnrolledInCourse||this.enrollInCourse(this.phpVariables.currentCourseId);var u={qid:r._id,recOn:ISODateString(new Date),chapterId:i,courseId:a,lang:e},l={type:n,client:"web"},p=this,d=function(e){e&&e.success&&(r.isLoadingForBookmark=!1,c(r._id),p.bookmarkedQidMap[r._id]=1)},h=function(e){r.isLoadingForBookmark=!1,e?showAlert("Something went wrong, Please contact support (support@testbook.com)","error","small",8e3):showAlert("Please check your internet connection.","error","small",8e3),r.isBookmarked=!1};t.saveBookmark(o,[u],l,d,h)},this.isEmptyObj=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},this.getTimeString=function(e){e||(e=0);var t=function(e){return e<10?"0"+e:e},r=t(Math.floor(e/3600)),o=t(Math.floor(e%3600/60)),a=t(e%60);return r+":"+o+":"+a},this.drawArc=function(e,t){var r=function(e){for(var t=0;t<e.length;t++)if(e[t].percentage)return e;return e[0]={color:"#e2eaed",percentage:100},e},o=function(e){for(var t=0,r=0;r<e.length;r++)e[r].percentage&&(t+=1);return t<=1?0:.15},a=function(e,t){for(var r=0,o=0,a=0;a<e.length;a++)e[a].percentage&&(r+=t,o+=e[a].percentage||0);var n=2*Math.PI-r;for(a=0;a<e.length;a++)e[a].percentage=n*e[a].percentage/o;return e},n=function(e,t,r,o){e.strokeStyle=t,e.lineCap="round",e.lineWidth=8,e.beginPath(),e.arc(80,80,76,r,o),e.stroke()};t=r(t);var i=o(t),s=a(t,i),c=0,u=document.getElementById(e);u.width=320,u.height=320,u.style.width="160px",u.style.height="160px";var l=u.getContext("2d");l.scale(2,2);for(var p=0;p<s.length;p++)if(s[p].percentage){var d=c,h=d+s[p].percentage;n(l,s[p].color,d,h),c=h+i}},this.fireChangeCourseEvent=function(e){r.$broadcast("COURSE_CHANGED",{courseId:e})},this.isEnrolledInCourse=!1,this.changeCurrentCourse=function(e){var r=this,o=function(t){r.fireChangeCourseEvent(e),forceSessionRefresh(!0);var o={id:e,name:r.getCourseName()};TB.UpdateCurrentCourseInStorage(o)},a=function(e){e?showAlert(e.message||"Something went wrong, Please contact at support@testbook.com","error","large",5e3):showAlert("Please check your internet connection or contact at support@testbook.com","error","large",5e3)},n={course:e};t.setCurrentCourse(n,o,a)},this.enrollInCourse=function(e){var r=this,o={courses:e},a=function(){showAlert("Successfully enrolled into the course","success","large",5e3),r.isEnrolledInCourse=!0,forceSessionRefresh(),r.changeCurrentCourse(e)},n=function(e){e&&e.message&&""!==e.message?showAlert(e.message,"error","small",3e3):showAlert("Please check your internet connection or contact at support@testbook.com","error","large",5e3)};t.enrollInCourse(o,a,n)}}]),e.controller("KeypadController",["$scope",function(e){for(var t=[],r=1;r<10;r++)t.push({value:r.toString(),id:r});t=t.concat([{value:".",id:"dot"},{value:"0",id:"0"},{value:"+/-",id:"plus-minus"},{value:"CE",id:"clear"},{value:"DEL",id:"delete"}]),e.range=t;var o={};e.getNumInput=function(t){if(e.isNumerical(t.index))return o=t,o.selectedOption||"None"},e.onKeyPress=function(t){var r=e.getNumInput(o),a="";a="CE"==t?"None":"DEL"==t?r.length>1&&"None"!=r?r.substring(0,r.length-1):"None":"."==t?"None"==r?"0.":r.indexOf(".")!=-1?r:r+t:"+/-"==t?"None"==r?r:r.indexOf("-")!=-1?r.substring(1,r.length):"-"+r:"None"==r?t:("0"==r&&"."!=t?"":r)+t,a="None"==a?null:a,o.selectedOption=a}}]),e.controller("analysisCtrl",["$scope","$rootScope","TB","testService","$location","practiceCommonService","$routeParams","$window",function(e,t,r,o,a,n,i,s){e.isPracticeOverlayVisible=!1,e.resumeBtnClicked=function(t){e.sidebarScope.showActiveChapter(t)},e.togglePracticeOverlay=function(t){e.isPracticeOverlayVisible=t,e.isSidebarOpen||e.toggleSidebar(!t)},e.getRoundedFloat=function(e,t){return getRoundedFloat(e,t)},e.recentChaptersScope={},e.recentChaptersScope.resume=function(e){a.path(e)},e.recentChaptersScope.getRecentChapters=function(t){for(var r=[],o=sortFunction(n.getMapToArr(t,"chapterId"),"updatedOn","desc")||[],a=0;a<o.length&&(o[a].bookmarksCount=e.$parent.chapterIdToBookmarkMap[o[a].chapterId]&&e.$parent.chapterIdToBookmarkMap[o[a].chapterId].qids.length||0,o[a].updatedOn!=new Date(n.INITIAL_TIME).getTime()&&r.push(o[a]),3!=r.length);a++);return r},e.recentChaptersScope.getDaysDiff=function(e){return n.getTimeDifference(e,(new Date).getTime())},e.overallProgressScope={progress:0,accuracy:0,speed:0,correctQues:0,incorrectQues:0,skippedQues:0,attemptedQues:0,totalQues:0,unseenQues:0,correctTime:0,incorrectTime:0,skippedTime:0,attemptedTime:0,totalTime:0,totalChap:0,ongoingChap:0,unseenChap:0,completedChap:0},e.overallProgressScope.setOverallProgressStatusHelper=function(t){e.overallProgressScope.correctQues+=t.correctQues||0,e.overallProgressScope.incorrectQues+=t.incorrectQues||0,e.overallProgressScope.skippedQues+=t.skippedQues||0,e.overallProgressScope.totalQues+=t.totalQues||0,e.overallProgressScope.correctTime+=t.correctTime||0,e.overallProgressScope.incorrectTime+=t.incorrectTime||0,e.overallProgressScope.skippedTime+=t.skippedTime||0,t.totalQues&&t.correctQues+t.incorrectQues+t.skippedQues==t.totalQues&&(e.overallProgressScope.completedChap+=1),(t.correctQues||t.incorrectQues||t.skippedQues)&&t.correctQues+t.incorrectQues+t.skippedQues<t.totalQues&&(e.overallProgressScope.ongoingChap+=1)},e.overallProgressScope.setOverallProgressStatus=function(t){for(var r=n.getMapToArr(t,"chapterId"),o=0;o<r.length;o++){var a=e.$parent.chapterIdToChapterDetailsMap[r[o].chapterId]||{};e.overallProgressScope.setOverallProgressStatusHelper(a)}e.overallProgressScope.attemptedQues=e.overallProgressScope.correctQues+e.overallProgressScope.incorrectQues,e.overallProgressScope.attemptedTime=e.overallProgressScope.correctTime+e.overallProgressScope.incorrectTime,e.overallProgressScope.totalTime=e.overallProgressScope.attemptedTime+e.overallProgressScope.skippedTime,e.overallProgressScope.unseenQues=e.overallProgressScope.totalQues-(e.overallProgressScope.attemptedQues+e.overallProgressScope.skippedQues),e.overallProgressScope.progress=e.getPercentage(e.overallProgressScope.attemptedQues,e.overallProgressScope.totalQues),e.overallProgressScope.accuracy=e.getPercentage(e.overallProgressScope.correctQues,e.overallProgressScope.attemptedQues),e.overallProgressScope.speed=getRoundedFloat(60*e.overallProgressScope.attemptedQues/(getRoundedFloat(e.overallProgressScope.correctTime/60,2)+getRoundedFloat(e.overallProgressScope.incorrectTime/60,2)),2),e.overallProgressScope.totalChap=e.$parent.sidebarScope.overallContent.chapters||0,e.overallProgressScope.unseenChap=e.overallProgressScope.totalChap-(e.overallProgressScope.completedChap+e.overallProgressScope.ongoingChap),e.overallProgressScope.drawCharts()},e.overallProgressScope.drawCharts=function(){n.drawArc("chapterDistribution",[{color:"#3bb9e0",percentage:e.overallProgressScope.completedChap},{color:"#9fdcee",percentage:e.overallProgressScope.ongoingChap},{color:"#e2eaed",percentage:e.overallProgressScope.unseenChap}]),n.drawArc("questionDistribution",[{color:"#16b55e",percentage:e.overallProgressScope.correctQues},{color:"#e54549",percentage:e.overallProgressScope.incorrectQues},{color:"#e2eaed",percentage:e.overallProgressScope.skippedQues}]),n.drawArc("timeDistribution",[{color:"#16b55e",percentage:e.overallProgressScope.correctTime},{color:"#e54549",percentage:e.overallProgressScope.incorrectTime},{color:"#e2eaed",percentage:e.overallProgressScope.skippedTime}])},e.detailedBreakdownScope={chapterAnalysisArr:[],sectionAnalysisArr:[],analysisArrForNgRepeat:[]},e.detailedBreakdownScope.getChapterAnalysisArr=function(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&e[r].isAttempted&&t.push(e[r]);return t},e.closeBtnClicked=function(){s.history.back()},e.detailedBreakdownScope.sectionSelected="All Sections",e.detailedBreakdownScope.tableHeadingTagTypeName="Section Name",e.detailedBreakdownScope.showSectionalChapters=function(t){if(e.detailedBreakdownScope.tableHeadingTagTypeName="All Sections"==t?"Section Name":"Chapter Name",e.detailedBreakdownScope.sectionSelected=t,"All Sections"==t)e.detailedBreakdownScope.analysisArrForNgRepeat=e.detailedBreakdownScope.sectionArr||[];else{e.detailedBreakdownScope.analysisArrForNgRepeat=e.detailedBreakdownScope.chapterArr||[];for(var r=0;r<e.detailedBreakdownScope.chapterArr.length;r++){var o=e.detailedBreakdownScope.chapterArr[r];o.section==t&&(o.attemptedQues||o.skippedQues)?e.detailedBreakdownScope.chapterArr[r].isShowInDetailedAnalysis=!0:e.detailedBreakdownScope.chapterArr[r].isShowInDetailedAnalysis=!1}}};var c=function(){e.recentChaptersScope.recentChaptersArr=e.recentChaptersScope.getRecentChapters(e.$parent.chapterIdToChapterDetailsMap),e.overallProgressScope.setOverallProgressStatus(e.$parent.chapterIdToChapterDetailsMap),e.detailedBreakdownScope.chapterArr=e.detailedBreakdownScope.getChapterAnalysisArr(e.$parent.chapterIdToChapterDetailsMap),e.detailedBreakdownScope.analysisArrForNgRepeat=e.detailedBreakdownScope.chapterArr,e.analysisScope.sectionArr=e.$parent.analysisScope.getSectionAnalysisArr(e.$parent.chapterIdToChapterDetailsMap),e.detailedBreakdownScope.sectionArr=e.analysisScope.sectionArr,e.detailedBreakdownScope.showSectionalChapters("All Sections")};e.getTimeString=function(e){return n.getTimeString(e)};var u={},l=function(){$("html, body").animate({scrollTop:0}),t.isRemoveActiveClass=!0,t.isQuestionView=!1,e.isHomePage=!(!a||a.$$path!=e.baseUrl),u=e.$parent.phpVariables;var r,o;e.isHomePage?(r=n.SEO_SPECIFIC_TO_COURSE[u.currentCourseId].HOME_TITLE,o=n.SEO_SPECIFIC_TO_COURSE[u.currentCourseId].HOME_DESC):(r=n.SEO_SPECIFIC_TO_COURSE[u.currentCourseId].ANALYSIS_TITLE,o=n.SEO_SPECIFIC_TO_COURSE[u.currentCourseId].ANALYSIS_DESC),e.metaTagService.setMetaTags(r,o),e.metaTagService.setIsShowMetaPrev(!1),e.metaTagService.setIsShowMetaNext(!1),e.metaTagService.setIsShowCanonicalUrl(!1),c()};l()}]),e.controller("bookmarksCtrl",["$scope","$rootScope","$window","TB","testService","$location","practiceCommonService","$routeParams","$interval","$timeout",function(e,t,r,o,a,n,i,s,c,l){e.chapterIdToBookmarkMap={},e.showQuestionList=!1,e.showBookmarkList=!1,e.showQuestion=!1,e.markOption=function(t){e.bookmarkedQueObj.selectedOption||(e.bookmarkedQueObj.selectedOption=t.prompt)},e.getChapterName=function(t){return e.$parent.chapterIdToChapterDetailsMap[t]&&e.$parent.chapterIdToChapterDetailsMap[t].chapterName||""},e.parseBookmarkedQueDesc=function(e){return a.parseHTML(e,"Translation Not Available")},e.getDaysDiff=function(e){var t=new Date(e).getTime(),r=(new Date).getTime(),o=i.getDaysDiff(r,t);return 0==o?"Today":1==o?"Yesterday":o+" days ago"},e.bookmarkedQueList=[];var p=function(e){for(var t=0;t<e.length;t++)e[t].isBookmarked=!0;return e},d=function(t){return e.bookmarkedQueList&&e.bookmarkedQueList[e.bookmarkedQueObj.index]?i.getSolutionDesc(e.bookmarkedQueList,e.bookmarkedQueObj.index,t):""},h=function(t,r){showLoader("Loading, please wait.");var a=function(t){t&&t.data&&(e.bookmarkedQueList=t.data.vaultQuestions,e.bookmarkedQueList=p(e.bookmarkedQueList)),hideLoader()},n=function(e){e?showAlert("Something went wrong, Please contact support (support@testbook.com)","error","small",8e3):showAlert("Please check your internet connection.","error","small",8e3),hideLoader()},i={type:"practiceQuestion",chapterId:t};o.getChapterBookmark(r,i,a,n)};e.currentChapterId="",e.reviseBtnClicked=function(t){$("html, body").animate({scrollTop:0}),h(t,e.sid),e.currentChapterId=t,e.showBookmarkList=!1,e.showQuestionList=!0,e.showQuestion=!1},e.questionListClicked=function(t){e.showBookmarkList=!1,e.showQuestionList=!1,e.showQuestion=!0,e.renderQue(t)},e.submitNumericalResponse=function(t){e.isSubmitNumBtnClicked=!0,e.bookmarkedQueObj.selectedOption=t},e.renderQue=function(t){$("html, body").animate({scrollTop:0},0);var r=e.bookmarkedQueList[t];e.bookmarkedQueObj={},e.bookmarkedQueObj.selectedOption="",e.bookmarkedQueObj.index=t,e.bookmarkedQueObj._id=r.qid,e.bookmarkedQueObj.hasComprehension=a.hasComprehension([r],1,e.lname),e.bookmarkedQueObj.desc=a.getQuestionDesc([r],1,e.lname,0),e.bookmarkedQueObj.options=a.getOptions([r],1,e.lname),e.bookmarkedQueObj.solDesc=d(e.lname),e.bookmarkedQueObj.hasComprehension&&(e.bookmarkedQueObj.comp=a.getComprehension([r],1,e.lname)),e.isNumerical(t)&&(e.bookmarkedQueObj.range=i.getNumericalRange([r],1,e.lname)),e.bookmarkedQueObj.co=i.getCorrectOption([r],1,e.lname),e.isSubmitNumBtnClicked=!1},e.prevBtnClicked=function(t){t>0&&e.renderQue(t-1)},e.isBookmarked=function(t){var r=e.bookmarkedQueList[t]?e.bookmarkedQueList[t].qid:"",o=[];return e.chapterIdToBookmarkMap.hasOwnProperty(e.currentChapterId)&&(o=e.chapterIdToBookmarkMap[e.currentChapterId].qids),i.isBookmarked(o,r)},e.isNumerical=function(t){return i.isNumerical(e.bookmarkedQueList,t)},e.nextBtnClicked=function(t){t<e.bookmarkedQueList.length-1&&e.renderQue(t+1)},e.closeBtnClicked=function(t){1==t?(e.showBookmarkList=!0,e.showQuestionList=!1,e.showQuestion=!1,e.bookmarkedQueList=[]):2==t?(e.showQuestionList=!0,e.showQuestion=!1,e.showBookmarkList=!1):(e.showBookmarkList&&r.history.back(),e.showQuestion?(e.showQuestionList=!0,e.showQuestion=!1,e.showBookmarkList=!1):(e.showBookmarkList=!0,e.showQuestionList=!1,e.showQuestion=!1,e.bookmarkedQueList=[]))},e.lname=i.getLanguageStr()||u,e.getBookmarkedQuestionDesc=function(t,r){var o=[t];return a.getQuestionDesc(o,1,e.lname,r)},e.bookmarkBtnClicked=function(t,r){r.stopPropagation&&r.stopPropagation(),r.preventDefault&&r.preventDefault(),r.cancelBubble=!0,r.returnValue=!1,e.bookmarkedQueList[t].isLoadingForBookmark=!0;var o=e.bookmarkedQueList[t];o._id=o.qid;var a=function(t){e.$parent.addBookmarkToChapterObj(e.currentChapterId,t)};e.bookmarkedQueList[t].isBookmarked?(e.bookmarkedQueList[t].isBookmarked=!1,i.deleteBookmark(e.$parent.sid,o,a)):(e.bookmarkedQueList[t].isBookmarked=!0,i.saveBookmark(e.lname,o,e.$parent.sid,g.currentCourseId,e.currentChapterId,e.chapterIdToBookmarkMap.qids,a))};var g={},m=function(){$("html, body").animate({scrollTop:0}),t.isRemoveActiveClass=!0,e.metaTagService.setIsShowMetaPrev(!1),e.metaTagService.setIsShowMetaNext(!1),e.metaTagService.setIsShowCanonicalUrl(!1),t.isQuestionView=!1,showLoader("Loading your Bookmarks, please wait."),e.metaTagService.setMetaTags("Testbook | Practice Bookmark","Best questions to practice."),e.sid=e.$parent.sid,e.chapterIdToBookmarkMap=e.getChapterIdToBookmarkMap(),g=i.getPhpVariables(),e.currentCourseId=g.currentCourseId,e.showBookmarkList=!0,hideLoader()};m(),e.watchForMathJaxRenderingHelper=function(){MathJax.Hub.Queue(["Typeset",MathJax.Hub]),e.showMathJaxAlert("Loading MathJax... Please wait.<br>Taking too long? <a onclick='window.location.reload()' href='#'>Click here</a>"),MathJax.Hub.Register.StartupHook("End Typeset",function(){e.hideMathJaxAlert()})},e.watchForMathJaxRendering=function(){l(function(){if("undefined"!=typeof MathJax&&MathJax.isReady)e.watchForMathJaxRenderingHelper();else var t=c(function(){"undefined"!=typeof MathJax&&MathJax.isReady?(e.hideMathJaxAlert(),c.cancel(t),e.watchForMathJaxRenderingHelper()):e.showMathJaxAlert("Unable to load MathJax.<br>Please check your network connection. <a onclick='window.location.reload()' href='#'>Reload</a>")},5e3,0,!0)},20,!0)},e.$watch("bookmarkedQueList",e.watchForMathJaxRendering,angular.equals),e.$watch("bookmarkedQueObj",e.watchForMathJaxRendering,angular.equals)}]),e.controller("questionCtrl",["$scope","TB","testService","$location","practiceCommonService","$routeParams","$interval","$rootScope","$route","$timeout",function(e,d,h,g,m,S,C,k,f,v){var w={chapterId:null,queCount:0};e.lang={lname:m.getLanguageStr()},e.queNoPanelScope={queObj:{},maxNavScrollValue:null,arrowScrollValue:null,questionNavScrollValue:null};var T=m.getPhpVariables(),A=m.getRouteVars(S.chapterName);e.currentCourseId=T.currentCourseId||"",e.currentChapterId=A.chapterId||"",w.questionHandler=function(t,r){for(var o=t.skip,a=t.questions,n=0,i=0;i<a.length;i++)e.queNoArr[i+o]=a[i],e.queNoArr[i+o].timeTaken=ae[a[i]._id]&&ae[a[i]._id].time||0,e.queNoArr[i+o].prevSessionTimeTaken=ae[a[i]._id]&&ae[a[i]._id].time||0,e.queNoArr[i+o].index=i+o,e.queNoArr[i+o].url=e.baseUrl+pe+"/"+de+"-"+e.currentChapterId+"/"+a[i]._id,e.queNoArr[i+o].isBookmarked=e.isBookmarked(i+o),e.queNoArr[i+o].isCorrect=e.isCorrect(a[i]._id),e.queNoArr[i+o].isWrong=e.isWrong(a[i]._id),e.queNoArr[i+o].isSkipped=e.isSkipped(a[i]._id),e.queNoArr[i+o].isSeen=e.isSeen(a[i]._id),e.queNoArr[i+o].isShowOnFilter=!0,r==a[i]._id?n=i+o:""==r&&(n=e.queNoPanelScope.queObj.index||0),e.practiceFilter.showCorrect?e.queNoArr[i+o].isShowOnFilter=e.queNoArr[i+o].isCorrect:e.practiceFilter.showWrong?e.queNoArr[i+o].isShowOnFilter=e.queNoArr[i+o].isWrong:e.practiceFilter.showSkipped?e.queNoArr[i+o].isShowOnFilter=e.queNoArr[i+o].isSkipped:e.practiceFilter.showBookmarked?e.queNoArr[i+o].isShowOnFilter=e.queNoArr[i+o].isBookmarked:e.practiceFilter.showUnseen&&(e.queNoArr[i+o].isShowOnFilter=!(e.queNoArr[i+o].isSkipped||e.queNoArr[i+o].isWrong||e.queNoArr[i+o].isCorrect));return n};var I=function(t){var r=m.getFromSessionStorage("practiceResponse")||{},o=m.getFromSessionStorage(n)||[],a=r[T.currentCourseId]||{};Object.keys(a).length<6&&ke<50?(10!=ke&&20!=ke&&30!=ke&&40!=ke||e.openOnBoardingModal(),a.hasOwnProperty(e.currentChapterId)||(a[e.currentChapterId]=[]),a[e.currentChapterId].push(t),r[T.currentCourseId]=a,m.setToSessionStorage("practiceResponse",r),t.courseId=T.currentCourseId,t.chapterId=e.currentChapterId,o.push(t),m.setToSessionStorage(n,o),ke+=1):(e.isAllowedToAttempt=!1,e.openOnBoardingModal())},P=!1;e.isAttemptedCorrect=!1,e.markOption=function(t){if(!P)if(ae.hasOwnProperty(e.queNoPanelScope.queObj._id)&&""!=ae[e.queNoPanelScope.queObj._id].mo||!e.isAllowedToAttempt)e.$parent.sid!=-1||e.isAllowedToAttempt||(P=!1,e.openOnBoardingModal("Create an free account to continue practice","I don't want to practice anymore.","signup",!1));else{P=!0,e.queNoPanelScope.queObj.selectedOption=t.prompt;var r,o=e.lang.lname,a="web",n=ISODateString(new Date);e.isNumerical(e.queNoPanelScope.queObj.index)?(r={qid:e.queNoPanelScope.queObj._id,sid:e.$parent.sid,mo:t.prompt,range:e.queNoPanelScope.queObj.range,time:e.queNoPanelScope.queObj.timeTaken||1,prevTime:e.queNoArr[e.queNoPanelScope.queObj.index].prevSessionTimeTaken,lang:o,client:a,recOn:n},e.queNoArr[e.queNoPanelScope.queObj.index].isCorrect=m.isNumCorrect(r),e.queNoArr[e.queNoPanelScope.queObj.index].isWrong=m.isNumWrong(r)):(r={qid:e.queNoPanelScope.queObj._id,sid:e.$parent.sid,mo:t.prompt,co:e.queNoPanelScope.queObj.co,time:e.queNoPanelScope.queObj.timeTaken||1,prevTime:e.queNoArr[e.queNoPanelScope.queObj.index].prevSessionTimeTaken,lang:o,client:a,recOn:n},e.queNoArr[e.queNoPanelScope.queObj.index].isCorrect=m.isCorrect(r),e.queNoArr[e.queNoPanelScope.queObj.index].isWrong=m.isWrong(r)),e.queNoArr[e.queNoPanelScope.queObj.index].isSkipped=m.isSkipped(r),e.queNoArr[e.queNoPanelScope.queObj.index].isSeen=!1,e.isSkip=!1;var i=!1;ae.hasOwnProperty(r.qid)&&""==ae[r.qid].mo?(i=!0,r.prevState="skipped"):(r.prevState="",e.queNoArr[e.queNoPanelScope.queObj.index].prevSessionTimeTaken=r.time),e.$parent.sid==-1?(P=!1,I(r),e.$parent.updateAnalysis(e.currentChapterId,m.getResponseState(r),r.time,i,!1,r.prevTime),ae[r.qid]=r,J(),e.isSkip=!1):(q(),m.isEnrolledInCourse||m.enrollInCourse(T.currentCourseId),e.$parent.updateAnalysis(e.currentChapterId,m.getResponseState(r),r.time,i,!1,r.prevTime),ae[r.qid]=r,x(r,T.currentCourseId,e.currentChapterId)),e.queNoArr[e.queNoPanelScope.queObj.index].isCorrect&&(m.wrongQueStreakCount=0,e.setAnimateClass.isCorrect=!0,O(!0),e.isAttemptedCorrect=!0),e.queNoArr[e.queNoPanelScope.queObj.index].isWrong&&(m.wrongQueStreakCount++,e.setAnimateClass.isWrong=!0,O(!1)),0==m.wrongQueStreakCount||m.wrongQueStreakCount%5||(ge(),me(),m.wrongQueStreakCount=0)}};var b="",q=function(){if(b!=e.currentChapterId){var t=0!=e.chapterIdToChapterDetailsMap[e.currentChapterId].attemptedQues&&e.chapterIdToChapterDetailsMap[e.currentChapterId].attemptedQues!=e.chapterIdToChapterDetailsMap[e.currentChapterId].totalQues,r=!1;
if(t){if(getLocalStorage(m.PRACTICE_CHAPTERS_STARTED)&&(chapterStartedArr=JSON.parse(getLocalStorage(m.PRACTICE_CHAPTERS_STARTED)),chapterStartedArr.indexOf(e.currentChapterId)!=-1&&(r=!0)),!r){var o=!1,a=!1,n=[];if(getLocalStorage(m.PRACTICE_CHAPTERS_RESUMED)&&(o=!0,n=JSON.parse(getLocalStorage(m.PRACTICE_CHAPTERS_RESUMED)),n.indexOf(e.currentChapterId)!=-1&&(a=!0)),!o||!a){var i=TBAnalytics.gtm.events.resumedChapterPractice;i.chapterID=e.currentChapterId,i.chapterName=e.chapterIdToChapterDetailsMap[e.currentChapterId].chapterName,i.subject=e.chapterIdToChapterDetailsMap[e.currentChapterId].section,i.course=ve,i.language=m.getLanguageStr()===c?l:p,TBAnalytics.gtm.pushToDataLayer(i),n.push(e.currentChapterId),b=e.currentChapterId,setLocalStorage(m.PRACTICE_CHAPTERS_RESUMED,JSON.stringify(n))}}}else if(b=e.currentChapterId,getLocalStorage(m.PRACTICE_CHAPTERS_STARTED)){var s=JSON.parse(getLocalStorage(m.PRACTICE_CHAPTERS_STARTED));s.indexOf(b)==-1&&(s.push(b),setLocalStorage(m.PRACTICE_CHAPTERS_STARTED,JSON.stringify(s)))}else setLocalStorage(m.PRACTICE_CHAPTERS_STARTED,JSON.stringify([b]))}};e.setAnimateClass={isCorrect:!1,isWrong:!1};var N=null,O=function(e){v.cancel(N),v(function(){e||scrollToSpecificElement($(".js-que-sol-to-scroll"),getAnnBannerHeight()+i+s+16,1200,"easeInOutQuart")},t)};e.submitNumericalResponse=function(t){e.isSubmitNumBtnClicked=!0,e.markOption({prompt:t})},e.isSkip=!0;var Q=0;e.changeQue=function(t,r){t!=e.queNoPanelScope.queObj.index&&(Q=r,ae.hasOwnProperty(e.queNoPanelScope.queObj._id)?e.queNoPanelScope.navQuestionClicked(t):e.skipBtnClicked(t,r))};var M=function(){e.practiceFilter={showCorrect:!1,showWrong:!1,showSkipped:!1,showBookmarked:!1,showUnseen:!1,isFilterSet:!1}};e.filterClicked=function(t,r){e.hideQueUI=!1,e.filterAppliedString=t,M();var o=-1;e.practiceFilter.isFilterSet=""!=t;for(var a=0;a<e.queNoArr.length;a++)"correct"==t?(o==-1&&e.queNoArr[a].isCorrect&&(o=a),e.queNoArr[a].isShowOnFilter=e.queNoArr[a].isCorrect,e.practiceFilter.showCorrect=!0):"wrong"==t?(o==-1&&e.queNoArr[a].isWrong&&(o=a),e.queNoArr[a].isShowOnFilter=e.queNoArr[a].isWrong,e.practiceFilter.showWrong=!0):"skip"==t?(o==-1&&e.queNoArr[a].isSkipped&&(o=a),e.queNoArr[a].isShowOnFilter=e.queNoArr[a].isSkipped,e.practiceFilter.showSkipped=!0):"bookmark"==t?(o==-1&&e.queNoArr[a].isBookmarked&&(o=a),e.queNoArr[a].isShowOnFilter=e.queNoArr[a].isBookmarked,e.practiceFilter.showBookmarked=!0):"unseen"==t?(o!=-1||e.queNoArr[a].isSkipped||e.queNoArr[a].isWrong||e.queNoArr[a].isCorrect||(o=a),e.queNoArr[a].isShowOnFilter=!(e.queNoArr[a].isSkipped||e.queNoArr[a].isWrong||e.queNoArr[a].isCorrect),e.practiceFilter.showUnseen=!0):""==t&&(o==-1&&(o=a),e.queNoArr[a].isShowOnFilter=!0);Q=0,r&&(o=r,Q=r),o!=-1?(e.practiceFilter.isFilterSet&&!e.queNoArr[o].hasContent&&(Q=0),e.queNoPanelScope.navQuestionClicked(o)):e.hideQueUI=!0},e.hideQueUI=!1,e.prevBtnClicked=function(t){if(t>0){for(t--;!e.queNoArr[t].isShowOnFilter&&t>0;)t--;e.queNoArr[t].isShowOnFilter&&!ee&&(t>=0&&Q--,e.skipBtnClicked(t))}},k.isShowChapterAnalysis=!1;var y=function(t){for(var r=0;;){r++;var o=e.chapterIdToChapterDetailsMap[e.chapterIdToChapterDetailsMap[t].nextChapter];if(o.attemptedQues<o.totalQues)return o;if(r>=Object.keys(e.chapterIdToChapterDetailsMap).length)return{};t=e.chapterIdToChapterDetailsMap[t].nextChapter}};k.isShowChapterAnalysisFromSummary=!1,e.nextBtnClicked=function(t){if(t<e.queNoArr.length-1){for(t++;!e.queNoArr[t].isShowOnFilter&&t<e.queNoArr.length-1;)t++;e.queNoArr[t].isShowOnFilter&&!ee&&(t<e.queNoArr.length&&Q++,e.skipBtnClicked(t))}else t==e.queNoArr.length-1?(e.skipBtnClicked(t),k.showChapterAnalysis(),k.isShowChapterAnalysisFromSummary=!0,e.queNoPanelScope.queObj.index=t+1,Q++):(e.setResponsesMap({}),e.setQueArr([]),e.sidebarScope.showActiveChapter(fe.chapterId))},e.chapterStatusObj={},k.showChapterAnalysis=function(){e.pausePractice(),e.chapterStatusObj.unseen=e.chapterIdToChapterDetailsMap[e.currentChapterId]?e.chapterIdToChapterDetailsMap[e.currentChapterId].unseenQues:0,e.chapterStatusObj.skipped=e.chapterIdToChapterDetailsMap[e.currentChapterId]?e.chapterIdToChapterDetailsMap[e.currentChapterId].skippedQues:0,e.chapterStatusObj.bookmarked=e.chapterIdToBookmarkMap[e.currentChapterId]?e.chapterIdToBookmarkMap[e.currentChapterId].qids.length:0,k.isShowChapterAnalysis?(k.isShowChapterAnalysis=!1,e.queNoPanelScope.queObj.index>e.totalQueCount-1&&(e.queNoPanelScope.queObj.index=e.totalQueCount-1,Q--),X(e.queNoPanelScope.queObj.index)):(J(),k.isShowChapterAnalysis=!0)},e.skipBtnClicked=function(t){if(!ae.hasOwnProperty(e.queNoPanelScope.queObj._id)&&e.queNoPanelScope.queObj.timeTaken>0){var r={prompt:""};e.markOption(r),e.queNoPanelScope.navQuestionClicked(t)}else e.queNoPanelScope.navQuestionClicked(t)};var B=function(e,t){for(var r=0;r<t.length;r++)if(e.qid==t[r].qid&&e.mo==t[r].mo)return!1;return!0},L=function(e,t,r,o,a,n){"undefined"!=typeof dataLayer?(dataLayer.push({chapterName:t,course:r,subject:o,chapterID:a,event:e,language:n}),console.log("an event is pushed: data-layer called:",dataLayer)):console.log("data-layer does not exist")},E=function(t){return 1==e.chapterIdToChapterDetailsMap[t].attemptedQues},D=function(t){return e.chapterIdToChapterDetailsMap[t].attemptedQues==e.chapterIdToChapterDetailsMap[t].totalQues};String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)};var R,F=0,j=[],x=function(t,r,a){var n;j.length?B(t,j)&&(j.push(t),n=j,v.cancel(R)):n=[t];var i={};0==Object.keys(m.getFromSessionStorage(o)||{}).length?(m.setToSessionStorage(o,{sessionStart:!0}),i.sessionStart=!0):i.sessionStart=!1,i.date=ISODateString(new Date);var s=function(r){var o=m.getLanguageStr()===c?l:p;D(a)&&L("completed_a_chapter",e.chapterIdToChapterDetailsMap[a].chapterName,ve,e.chapterIdToChapterDetailsMap[a].section,a,o),E(a)&&L("started_a_chapter",e.chapterIdToChapterDetailsMap[a].chapterName,ve,e.chapterIdToChapterDetailsMap[a].section,a,o),j.length&&(j=[],v.cancel(R)),F=0,P=!1,e.isNetworkAlertVisible=!1,t.qid==e.queNoPanelScope.queObj._id&&(e.queNoPanelScope.queObj.selectedOption=t.mo,J()),ae[t.qid]=t},u=function(o){if(P=!1,o){showAlert("We would not be able to save response for this question.","danger","small",8e3),delete ae[t.qid];var n=!1;ae.hasOwnProperty(t.qid)&&""==ae[t.qid].mo&&(n=!0),e.$parent.updateAnalysis(e.currentChapterId,m.getResponseState(t),t.time,n,!0,t.prevTime)}else B(t,j)&&j.push(t),F+=1,F>3&&(e.isNetworkAlertVisible=!0,v.cancel(R),R=v(function(){j.length&&d.submitPracticeResponse(i,r,a,j,s,u)},1e4));hideLoader()};d.submitPracticeResponse(i,r,a,n,s,u)},_={},H=function(t,o,a){var n=function(t){Ce=!0;var n=t.data.hasOwnProperty("responses")?t.data.responses:[];ne=t.data.hasOwnProperty("allQids")?t.data.allQids:{},ae=m.getCustomMap(n,"qid","",!0),e.setResponsesMap(ae),e.totalQueCount=Object.keys(ne).length||e.getTotalQueCount(o),e.setQueIdToNoMap(ne),e.setQueNoToIdMap(ne),_=e.getQueNoToIdMap()||{},ie(ne),w.getQuestions(T.currentCourseId,o,0,r,a)},i=function(e){e?showAlert("Something went wrong, Please contact support (support@testbook.com)","error","small",8e3):showAlert("Please check your internet connection.","error","small",8e3),hideLoader()};d.getPracticeResponses(t,o,n,i)},U=!1;w.getQuestions=function(t,r,o,a,n){var i={limit:a,skip:o,sqid:n},s=function(t){Se=!0;var r=t&&t.data||[],o=w.questionHandler(r,n);U?e.queNoPanelScope.queObj.hasOwnProperty("check")&&(o=e.queNoPanelScope.queObj.index,e.queNoPanelScope.navQuestionClicked(o)):(U=!0,Q=e.practiceFilter.isFilterSet?0:o,e.queNoPanelScope.navQuestionClicked(o)),se()},c=function(e){e?showAlert("Something went wrong, Please contact support (support@testbook.com)","error","small",8e3):showAlert("Please check your internet connection.","error","small",8e3),hideLoader()};d.getPracticeQuestions(t,r,i,s,c)},e.isCorrect=function(e){return!ae.hasOwnProperty(e)||ae[e].hasOwnProperty("co")&&ae[e].co?m.isCorrect(ae[e]):m.isNumCorrect(ae[e])},e.isSkipped=function(e){return m.isSkipped(ae[e])},e.isWrong=function(e){return!ae.hasOwnProperty(e)||ae[e].hasOwnProperty("co")&&ae[e].co?m.isWrong(ae[e]):m.isNumWrong(ae[e])},e.isSeen=function(e){return m.isSeen(ae[e])},e.isBookmarked=function(e){var t=_[e]||"";return!!m.bookmarkedQidMap[t]},e.isNumerical=function(t){return m.isNumerical(e.queNoArr,t)};var V=null,J=function(){C.cancel(V)},W=function(e,t){if(e.hasOwnProperty(t)&&e[t].sol&&e[t].sol[0]){var r=h.htmlspecialchars_decode(e[t].sol[0].value||"");return h.specialCharsDecodeToString(r)}return""},G=function(e,t){if(e.hasOwnProperty(t)){var r=h.htmlspecialchars_decode(e[t].value||"");return h.specialCharsDecodeToString(r)}return""},Y=function(t,r){e.queNoPanelScope.queObj.hasComprehension=h.hasComprehension(e.queNoArr,t+1,r),e.queNoPanelScope.queObj.desc=h.getQuestionDesc(e.queNoArr,t+1,r,0),e.queNoPanelScope.queObj.options=h.getOptions(e.queNoArr,t+1,r),e.queNoPanelScope.queObj.hasComprehension&&(e.queNoPanelScope.queObj.comp=h.getComprehension(e.queNoArr,t+1,r)),e.isNumerical(t)&&(e.queNoPanelScope.queObj.range=m.getNumericalRange(e.queNoArr,t+1,r)),e.queNoPanelScope.queObj.co=m.getCorrectOption(e.queNoArr,t+1,r),e.queNoPanelScope.queObj.solDesc=re(r);var o=G(e.queNoArr[t],r)+e.queNoPanelScope.queObj._id,a=W(e.queNoArr[t],r);e.metaTagService.setMetaTags(o,a)};e.changeLanguage=function(){m.changeLanguageStr(),e.lang.lname=m.getLanguageStr(),Y(e.queNoPanelScope.queObj.index,e.lang.lname),e.$broadcast("triggerLangChangePopup",{})},e.isTranslationPresent=!1;var z=function(e,t,r){var o=e[t-1];return o[r]&&o[r].value&&""!=o[r].value};e.isShowLangToast=!1;var K,X=function(t){e.setAnimateClass={isCorrect:!1,isWrong:!1},$("html, body").animate({scrollTop:0},0);var o=e.baseUrl+pe+"/"+de+"-"+e.currentChapterId+"/"+e.queNoArr[t]._id;g.pathChangeWithoutReload(o,!1),J(),k.isShowChapterAnalysis=!1,e.isPrevBtnDisabled=0==t,e.queNoPanelScope.queObj._id=h.getQID(e.queNoArr,t+1),e.queNoPanelScope.queObj.index=t;var a=e.lang.lname;Y(t,a),z(e.queNoArr,t+1,e.lang.lname)||(a=e.lang.lname===u?c:u,Y(e.queNoPanelScope.queObj.index,a),v.cancel(K),e.isShowLangToast=!0,K=v(function(){e.isShowLangToast=!1},3e3)),e.isTranslationPresent=h.isTranslationPresent(e.queNoArr,t+1,a);var n=ne.hasOwnProperty(e.queNoPanelScope.queObj._id)&&ne[e.queNoPanelScope.queObj._id]||t,i=parseInt(n/r)+1;e.queNoPanelScope.queObj.listViewUrl=e.baseUrl+pe+"/"+de+"-"+e.currentChapterId+"/?page="+i+"&idToJump="+t+"-queInListView"+e.queNoPanelScope.queObj._id,e.setCloseBtnUrl(o);var s=ae.hasOwnProperty(e.queNoPanelScope.queObj._id)?ae[e.queNoPanelScope.queObj._id]:null;s?(e.isSkip=!1,e.queNoPanelScope.queObj.selectedOption=s.mo,e.isSubmitNumBtnClicked=!0,""==s.mo&&(e.isSubmitNumBtnClicked=!1,Z(t))):(e.isSkip=!0,e.queNoPanelScope.queObj.selectedOption="",e.isSubmitNumBtnClicked=!1,Z(t))},Z=function(t){V=C(function(){e.queNoArr[t]||J(),e.queNoArr[t].timeTaken+=1,e.queNoPanelScope.queObj.timeTaken=e.queNoArr[t].timeTaken},1e3)};e.queNoPanelScope.parseDesc=function(e){return h.parseHTML(e,"Translation Not Available")},g.pathChangeWithoutReload=function(e,t){var r=g.path;if(t===!1)var o=f.current,a=k.$on("$locationChangeSuccess",function(){f.current=o,a()});return v(a,200,!1),r.apply(g,[e])},e.isPrevBtnDisabled=!0,e.isNextBtnDisabled=!0;var ee=!1;e.queNoPanelScope.navQuestionClicked=function(t){if(e.closeMotivationCard(),e.isAttemptedCorrect=!1,e.queNoArr[t].hasOwnProperty("hasContent")&&!e.queNoArr[t].hasContent){ee=!0,showLoader("Loading, please wait.");var o;o=t%r==0&&t>10?parseInt(t/r)*r-10:parseInt(t/r)*r,e.queNoPanelScope.queObj.check=!0,e.queNoPanelScope.queObj.index=t,w.getQuestions(T.currentCourseId,e.currentChapterId,o,r,"")}else{ee=!1;var a=$(".js-question-list").width(),n=48*(void 0==Q?t:Q);e.queNoPanelScope.maxNavScrollValue=-(48*e.queNoArr.length-(a-32)),n>a/2?(e.queNoPanelScope.arrowScrollValue=48*Math.floor(a/2/48),e.queNoPanelScope.questionNavScrollValue=-(48*(void 0==Q?t:Q)-e.queNoPanelScope.arrowScrollValue)):(e.queNoPanelScope.questionNavScrollValue=0,e.queNoPanelScope.arrowScrollValue=n);var i;t>5&&t<e.queNoArr.length-5&&(e.queNoArr[t+5].hasOwnProperty("hasContent")&&!e.queNoArr[t+5].hasContent&&(e.practiceFilter.isFilterSet&&(showLoader("Loading... Please wait..."),ee=!0),i=te(t,"right"),w.getQuestions(T.currentCourseId,e.currentChapterId,i-1,r,""),e.queNoArr[i-1].hasContent=1),e.queNoArr[t-5].hasOwnProperty("hasContent")&&!e.queNoArr[t-5].hasContent&&(e.practiceFilter.isFilterSet&&(showLoader("Loading... Please wait..."),ee=!0),i=te(t,"left"),o=i-r<0?0:i-r,w.getQuestions(T.currentCourseId,e.currentChapterId,o,r,""),e.queNoArr[i-1].hasContent=1)),e.isShowLoadingTemplate=!1,X(t)}};var te=function(t,r){var o=0;if("left"==r){for(o=t;o>0;o--)if(e.queNoArr[o].hasOwnProperty("hasContent"))return o+1}else if("right"==r)for(o=t;o<e.queNoArr.length;o++)if(e.queNoArr[o].hasOwnProperty("hasContent"))return o+1};e.queNoPanelScope.navScrollBtn=function(t){var r=e.queNoPanelScope.questionNavScrollValue,o=e.queNoPanelScope.arrowScrollValue;"left"==t?(r+=240,o+=240,r<=0?(e.queNoPanelScope.questionNavScrollValue=r,e.queNoPanelScope.arrowScrollValue=o):(e.queNoPanelScope.questionNavScrollValue=0,e.queNoPanelScope.arrowScrollValue=o-r)):"right"==t&&(r-=240,o-=240,e.queNoPanelScope.questionNavScrollValue=r,e.queNoPanelScope.arrowScrollValue=o)};var re=function(t){return e.queNoArr&&e.queNoArr[e.queNoPanelScope.queObj.index]?m.getSolutionDesc(e.queNoArr,e.queNoPanelScope.queObj.index,t):""};e.bookmarkBtnClicked=function(t){var r,o=T.currentCourseId;e.sid!=-1?(r=function(t){e.$parent.addBookmarkToChapterObj(e.currentChapterId,t)},oe[e.currentChapterId]&&oe[e.currentChapterId].qids.indexOf(e.queNoArr[t]._id)!==-1!==m.bookmarkedQidMap.hasOwnProperty(e.queNoArr[t]._id)&&(r=function(e){}),e.queNoArr[t].isLoadingForBookmark=!0,e.isBookmarked(t)?(e.queNoArr[t].isBookmarked=!1,m.deleteBookmark(e.$parent.sid,e.queNoArr[t],r)):(e.queNoArr[t].isBookmarked=!0,m.saveBookmark(e.lang.lname,e.queNoArr[t],e.$parent.sid,o,e.currentChapterId,oe,r))):e.openOnBoardingModal("Create a free account to save your questions!","No, I don't want to save my  questions!","bookmark",!0)};var oe,ae={};e.chapterName="";var ne={},ie=function(t){for(var r in t)e.queNoArr[t[r]]={hasContent:0,index:t[r],isBookmarked:e.isBookmarked(t[r])||!1,isCorrect:e.isCorrect(r)||!1,isWrong:e.isWrong(r)||!1,isSkipped:e.isSkipped(r)||!1,isSeen:e.isSeen(r)||!1,isShowOnFilter:!0};if(0==Object.keys(t).length&&e.totalQueCount>0)for(var o=0;o<e.totalQueCount;o++)e.queNoArr[o]={hasContent:0,index:o,isBookmarked:!1,isCorrect:!1,isWrong:!1,isSkipped:!1,isSeen:!0,isShowOnFilter:!0}},se=function(){Ce&&Se&&hideLoader()};e.quePageReviseBtnClicked=function(t){e.filterClicked(t)},e.pausePractice=function(){e.currentChapterObj=getDuplicateObject(e.chapterIdToChapterDetailsMap[e.currentChapterId]),e.currentChapterObj.speed=getRoundedFloat(60*e.currentChapterObj.attemptedQues/(getRoundedFloat(e.currentChapterObj.correctTime/60,2)+getRoundedFloat(e.currentChapterObj.incorrectTime/60,2)),2);var t=function(){v(function(){document.getElementById("questionDistribution")&&document.getElementById("timeDistribution")?ce():t()},500)};t()},e.getTimeString=function(e){return m.getTimeString(e)};var ce=function(){m.drawArc("questionDistribution",[{color:"#16b55e",percentage:e.currentChapterObj.correctQues},{color:"#e54549",percentage:e.currentChapterObj.incorrectQues},{color:"#e2eaed",percentage:e.currentChapterObj.skippedQues}]),m.drawArc("timeDistribution",[{color:"#16b55e",percentage:e.currentChapterObj.correctTime},{color:"#e54549",percentage:e.currentChapterObj.incorrectTime},{color:"#e2eaed",percentage:e.currentChapterObj.skippedTime}])};e.isMotivateUser=!1,e.closeMotivationCard=function(){e.isMotivateUser&&(e.isMotivateUser=!1)};var ue=null,le=["Mistakes have the power to turn you into something better than you were before.","Failures are proof that you are trying.","Success comes when you simply refuse to give up, with goals so strong that failures act only as motivation.","There might come a day when you will give up, but today is not that day.","Just because something is difficult does not mean you should not try. It just means you should TRY HARDER.","I can accept failure but I cannot accept not trying.","It is hard to fail but it is worse never to have tried to succeed.","Some people dream of success. While others wake up and work hard at it.","The person who does not make mistakes is unlikely to learn anything.","You never fail until you stop trying."];e.quoteText="";var pe,de,he=0,ge=function(){he<le.length?(e.quoteText=le[he],he++):he=0},me=function(){e.isMotivateUser=!0,ue=v(function(){e.isMotivateUser=!1,v.cancel(ue)},a)},Se=!1,Ce=!1,ke=0;e.isAllowedToAttempt=!0;var fe={};e.queLoadingObj={};var ve="";e.isShowLangChangeIcon=!1,e.initQuestions=function(){ve=$("#courseTitle").val()||"",k.isQuestionView=!0,$("html, body").animate({scrollTop:0}),k.isRemoveActiveClass=!1,e.isShowLoadingTemplate=!0;var t=e.getLoadingObj();Object.keys(t).length?(e.queLoadingObj.hasComprehension=h.hasComprehension([t],1,e.lang.lname),e.queLoadingObj.desc=h.getQuestionDesc([t],1,e.lang.lname,0),e.queLoadingObj.hasComprehension&&(e.queLoadingObj.comp=h.getComprehension([t],1,e.lang.lname))):e.isShowLoadingTemplate=!1,e.metaTagService.setIsShowMetaPrev(!1),e.metaTagService.setIsShowMetaNext(!1),e.metaTagService.setIsShowCanonicalUrl(!1),e.isNetworkAlertVisible=!1,pe=S.sectionName;var o=m.getRouteVars(S.chapterName);if(de=o.routeChapterName,e.chapterName=m.getProcessedString(de,"-"," "),M(),ke=0,e.chapterName=m.getProcessedString(de,"-"," "),e.currentChapterId=o.chapterId,ae=e.getResponsesMap(),oe=e.getChapterIdToBookmarkMap(),T=m.getPhpVariables(),ne=e.getQueIdToNoMap()||{},e.isShowLangChangeIcon=!e.chapterIdToChapterDetailsMap[e.currentChapterId].lang,e.lang.lname=e.isShowLangChangeIcon?e.lang.lname:e.chapterIdToChapterDetailsMap[e.currentChapterId].lang,e.totalQueCount=Object.keys(ne).length||e.getTotalQueCount(e.currentChapterId),ae.hasOwnProperty(S.id)||e.getQueArr()&&e.getQueArr().length){U=!0,e.queNoArr=e.getQueArr(),_=e.getQueNoToIdMap()||{};var a=ne[S.id];if(void 0==a&&(a=m.getQueNo(S.id,e.queNoArr)),Q=a,Ce=!0,Se=!0,e.$parent.sid==-1){var n=m.getFromSessionStorage("practiceResponse")||{},i=n[T.currentCourseId]||{};i.hasOwnProperty(e.currentChapterId)&&(e.setResponsesMap(m.getCustomMap(i[e.currentChapterId],"qid","",!0)),ae=e.getResponsesMap());for(var s in i)i.hasOwnProperty(s)&&(ke+=i[s].length||0);ke>=50?e.isAllowedToAttempt=!1:e.isAllowedToAttempt=!0}v(function(){e.filterClicked("",a)},300)}else if(showLoader("Please wait, loading your data."),e.$parent.sid==-1){Ce=!0;var n=m.getFromSessionStorage("practiceResponse")||{},i=n[T.currentCourseId]||{};i.hasOwnProperty(e.currentChapterId)&&(e.setResponsesMap(m.getCustomMap(i[e.currentChapterId],"qid","",!0)),ae=e.getResponsesMap());for(var s in i)i.hasOwnProperty(s)&&(ke+=i[s].length||0);ke>=50?e.isAllowedToAttempt=!1:e.isAllowedToAttempt=!0,ie(ne),w.getQuestions(T.currentCourseId,e.currentChapterId,0,r,S.id)}else H(T.currentCourseId,e.currentChapterId,S.id);setHeaderMarginTop(),fe=y(e.currentChapterId),e.nextChapterUrl=fe.url||"",e.$parent.sid==-1||Object.keys(m.bookmarkedQidMap).length||m.getBookmarkedQids(e.$parent.sid),"function"==typeof initTourPopover&&initTourPopover($("#practice-lang-preference").parent(),"practiceLangPrefTour"+e.$parent.sid,"bottom","You can change your language preference from here!",365)},e.initQuestions(),e.watchForMathJaxRenderingHelper=function(){MathJax.Hub.Queue(["Typeset",MathJax.Hub]),e.showMathJaxAlert("Loading MathJax... Please wait.<br>Taking too long? <a onclick='window.location.reload()' href='#'>Click here</a>"),MathJax.Hub.Register.StartupHook("End Typeset",function(){e.hideMathJaxAlert()})},e.watchForMathJaxRendering=function(){v(function(){if("undefined"!=typeof MathJax&&MathJax.isReady)e.watchForMathJaxRenderingHelper();else var t=C(function(){"undefined"!=typeof MathJax&&MathJax.isReady?(e.hideMathJaxAlert(),C.cancel(t),e.watchForMathJaxRenderingHelper()):e.showMathJaxAlert("Unable to load MathJax.<br>Please check your network connection. <a onclick='window.location.reload()' href='#'>Reload</a>")},5e3,0,!0)},20,!0)},e.$watch("queNoPanelScope.queObj",e.watchForMathJaxRendering,angular.equals)}]),e.controller("listViewCtrl",["$scope","$rootScope","$route","$window","TB","testService","$location","practiceCommonService","$routeParams","$timeout","$interval","sharedProperties",function(e,t,o,a,n,i,s,c,u,l,p,d){var h,g,m,S=c.getLanguageStr(),C=null,k=0,f=!1,v=".js-plv-que-list";e.isLoadingNextQues=!1,e.loadNextQueBtnClicked=function(){if(!f){f=!0;var t={start:0,end:0};Y<r?(t.start=Y,t.end=r):(t.start=Y,t.end=parseInt(Y/r+1)*r),e.totalQueCount>Y&&(e.isLoadingNextQues=!0,L(W.currentCourseId,e.currentChapterId,t.start,t.end-t.start,""))}};var w=function(t){var o=$(window).scrollTop();h=$(".js-plv-que-list .question-content:first-child").outerHeight(!0)+$(".js-plv-que-list .question-content:nth-child(2)").outerHeight(!0)+$(".js-plv-que-list .question-content:nth-child(3)").outerHeight(!0),g=$(".js-plv-que-list .question-content:last-child").outerHeight(!0)+$(".js-plv-que-list .question-content:nth-last-child(2)").outerHeight(!0)+$(".js-plv-que-list .question-content:nth-last-child(3)").outerHeight(!0)+$(".js-plv-que-list .question-content:nth-last-child(4)").outerHeight(!0)+$(".js-plv-que-list .question-content:nth-last-child(5)").outerHeight(!0);var a=$(document).height()-$(window).height()-g;l.cancel(C);var n="",i="";x?(C=l(function(){if(o+$(window).height()>$(document).height()-g&&e.loadNextQueBtnClicked(),$(v)&&$(v).length){for(var t=0;t<$(v+">.question-content").length;t++)if(isElementInViewport($(v+">.question-content")[t])){m=$(v+">.question-content")[t].id;break}if(m){var a=parseInt(m.split("-")[0]),c=parseInt(a/r)+1;x!=c&&(s.search("page",c),c>1?(i=e.viewAllUrl+"?page="+(parseInt(c)-1),e.metaTagService.setMetaPrev(i),e.metaTagService.setIsShowMetaPrev(!0)):e.metaTagService.setIsShowMetaPrev(!1),c<parseInt(e.totalQueCount/r)+1?(n=e.viewAllUrl+"?page="+(parseInt(c)+1),e.metaTagService.setMetaNext(n),e.metaTagService.setIsShowMetaNext(!0)):e.metaTagService.setIsShowMetaNext(!1),x=c)}}},k),e.queArr&&e.queArr[0]&&0==o&&0==e.queArr[0].index?e.sideArrowBtn.isShowTopBtn=!1:e.sideArrowBtn.isShowTopBtn=!0,e.queArr&&e.queArr.length&&e.queArr[e.queArr.length-1]&&o>=a&&e.queArr[e.queArr.length-1].index+1==e.totalQueCount?e.sideArrowBtn.isShowBottomBtn=!1:e.sideArrowBtn.isShowBottomBtn=!0):e.metaTagService.setIsShowCanonicalUrl(!1)};e.isBookmarked=function(e){var t=q[e]||"";return!!c.bookmarkedQidMap[t]};var T=function(e){return!H.hasOwnProperty(e)||H[e].hasOwnProperty("co")&&H[e].co?c.isCorrect(H[e]):c.isNumCorrect(H[e])},A=function(e){return c.isSkipped(H[e])},I=function(e){return c.isSeen(H[e])},P=function(e){return!H.hasOwnProperty(e)||H[e].hasOwnProperty("co")&&H[e].co?c.isWrong(H[e]):c.isNumWrong(H[e])};e.getQuestionDesc=function(e){return void 0!=e?i.getQuestionDesc(V,e+1,S,200):""},e.bookmarkBtnClicked=function(t,r){r.stopPropagation&&r.stopPropagation(),r.preventDefault&&r.preventDefault(),r.cancelBubble=!0,r.returnValue=!1;var o,a=W.currentCourseId;e.sid!=-1?(o=function(t){e.$parent.addBookmarkToChapterObj(e.currentChapterId,t)},U[e.currentChapterId]&&U[e.currentChapterId].qids.indexOf(e.queNoArr[t]._id)!==-1!==c.bookmarkedQidMap.hasOwnProperty(e.queNoArr[t]._id)&&(o=function(e){}),V[t].isLoadingForBookmark=!0,e.isBookmarked(t)?(V[t].isBookmarked=!1,c.deleteBookmark(e.$parent.sid,V[t],o)):(c.saveBookmark(S,V[t],e.$parent.sid,a,e.currentChapterId,U,o),V[t].isBookmarked=!0)):e.openOnBoardingModal("Create a free account to save your questions!","No, I don't want to save my  questions!","bookmark",!0)};var b=function(e){var t={qid:"",updatedOn:new Date(0)};for(var r in e)e[r].updatedOn?new Date(t.updatedOn||t.recOn).getTime()<new Date(e[r].updatedOn).getTime()&&e.hasOwnProperty(r)&&(t=e[r]):new Date(t.updatedOn||t.recOn).getTime()<new Date(e[r].recOn).getTime()&&e.hasOwnProperty(r)&&(t=e[r]);return t.qid};e.totalQueCount=0;var q={},N=function(t,o,a){var i=function(n){var i=n.data.hasOwnProperty("responses")?n.data.responses:[];X=!0,J=n.data.hasOwnProperty("allQids")?n.data.allQids:{},e.setQueIdToNoMap(J),e.totalQueCount=Object.keys(J).length||e.getTotalQueCount(o),H=c.getCustomMap(i,"qid","",!0),e.setResponsesMap(H),e.setQueNoToIdMap(J),q=e.getQueNoToIdMap()||{},E(J);var s="",u=0,l=r;"current"==a?s=J[b(H)]?b(H):"":a?u=parseInt(a)*r-l:(u=0,l=e.totalQueCount),L(t,o,u,l,s)},s=function(e){e?showAlert("Something went wrong, Please contact support (support@testbook.com)","error","small",8e3):showAlert("Please check your internet connection.","error","small",8e3),hideLoader()};n.getPracticeResponses(t,o,i,s)},O=function(t){for(var r=t.skip,o=t.questions,a=0;a<o.length;a++)V[a+r]=o[a],V[a+r].timeTaken=H[o[a]._id]&&H[o[a]._id].time||0,V[a+r].prevSessionTimeTaken=H[o[a]._id]&&H[o[a]._id].time||0,V[a+r].index=a+r,V[a+r].url=e.baseUrl+F+"/"+j+"-"+e.currentChapterId+"/"+o[a]._id,V[a+r].isBookmarked=e.isBookmarked(a+r),V[a+r].isCorrect=T(o[a]._id),V[a+r].isWrong=P(o[a]._id),V[a+r].isSkipped=A(o[a]._id),V[a+r].isSeen=I(o[a]._id),V[a+r].isShowOnFilter=!0;return r};e.queArr=[];var Q=function(t,r){for(var o=V.length<t+r?V.length:t+r,a=t;a<o;a++)(M||e.queArr[e.queArr.length-1].index+1==V[a].index)&&e.queArr.push(V[a])},M=!1;s.pathChangeWithoutReload=function(e,r){var a=s.path;if(r===!1)var n=o.current,i=t.$on("$locationChangeSuccess",function(){o.current=n,i()});return l(i,200,!1),a.apply(s,[e])},e.isLoadingPrevQues=!1,e.loadPrevQueBtnClicked=function(){e.isLoadingPrevQues=!0;var t=$(".js-plv-que-list").outerHeight(!0),o={start:0,end:0};e.queArr[0].index<r?(o.start=0,o.end=e.queArr[0].index):(o.start=parseInt(e.queArr[0].index/r-1)*r,o.end=e.queArr[0].index);var a=o.start,n=o.end-o.start;if(D(a,a+n)){e.isLoadingPrevQues=!1,B(a,n);try{e.$apply()}catch(i){}var s=$(".js-plv-que-list").outerHeight(!0),c=s-t;$("body, html").animate({scrollTop:"+="+c},0)}else L(W.currentCourseId,e.currentChapterId,a,n,"")},e.isFirstQueLoaded=!1,e.isLastQueLoaded=!1;var y=function(){e.isFirstQueLoaded=0==e.queArr[0].index,e.isLastQueLoaded=e.queArr[e.queArr.length-1].index==e.totalQueCount-1};e.scrollToPageTop=function(){y(),scrollToTop()},e.scrollToPageBottom=function(){scrollToBottom(),y()};var B=function(t,r){for(var o=V.length<t+r?V.length:t+r,a=o-1;a>=t;a--)e.queArr.unshift(V[a])},L=function(t,r,o,a,i){var s=$(".js-plv-que-list").outerHeight(!0),u={limit:a,skip:o,sqid:i},p=function(t){var r=t&&t.data||[];K=!0,0==e.queArr.length&&(M=!0);var n=O(r);if(e.setQueArr(V),e.isLoadingPrevQues=!1,e.isLoadingNextQues=!1,0!=e.queArr.length&&e.queArr[0].index>o){B(n,a),e.$apply();var u=$(".js-plv-que-list").outerHeight(!0),p=u-s;$("body, html").animate({scrollTop:"+="+p},0)}else Y=r.skip+r.questions.length,Q(n,a);if(y(),""!=i){var d=c.getQueNo(i,e.queArr),h=e.queArr[d].index+"-queInListView"+i;l(function(){scrollToSpecificElement("#"+h,getAnnBannerHeight()+$("#top-header").height()+16,500,"swing")},100,!1)}Z||(Z=!0,_()),f=!1,R()},d=function(t){e.isLoadingPrevQues=!1,e.isLoadingNextQues=!1,f=!1,t?showAlert("Something went wrong, Please contact support (support@testbook.com)","error","small",8e3):showAlert("Please check your internet connection.","error","small",8e3),hideLoader()};n.getPracticeQuestions(t,r,u,p,d)},E=function(t){for(var r in t)V[t[r]]={hasContent:0,index:t[r],isBookmarked:e.isBookmarked(t[r]),isCorrect:T(r),isWrong:P(r),isSkipped:A(r),isSeen:I(r),isShowOnFilter:!0};if(0==Object.keys(t).length&&e.totalQueCount>0)for(var o=0;o<e.totalQueCount;o++)V[o]={hasContent:0,index:o,isBookmarked:!1,isCorrect:!1,isWrong:!1,isSkipped:!1,isSeen:!0,isShowOnFilter:!0}};e.closeBtnClicked=function(){e.closeBtnUrl?s.path(e.closeBtnUrlOnListView):a.history.back()};var D=function(e,t){for(var r=e;r<t;r++)if(!V[r]||!V[r].hasOwnProperty("_id"))return!1;return!0};e.setReportType=function(e){$reportService.setReportType(e)},e.setQueId=function(e){$reportService.setQID(e)},e.isShowListViewUI=!1;var R=function(){K&&X&&(e.isShowListViewUI=!0,hideLoader())};e.listViewCardClicked=function(t){$(window).off("scroll",w),e.setLoadingObj(t)};var F,j,x,_=function(){var e=getURLParameterValue("idToJump");e&&l(function(){scrollToSpecificElement("#"+e,getAnnBannerHeight()+$("#top-header").height()+16,800,"easeInOutQuart")},100,!1)},H={},U={},V=[],J={},W={},G=0,Y=0,z={},K=!1,X=!1,Z=!1;e.sideArrowBtn={isShowTopBtn:!0,isShowBottomBtn:!0},e.$on("detachListenerEvent",function(e,t){$(window).off("scroll",w)});var ee=function(){$("html, body").animate({scrollTop:0}),t.isRemoveActiveClass=!1,$(window).on("scroll",w),t.isQuestionView=!1,e.closeBtnUrl=e.getCloseBtnUrl();var o=c.getRouteVars(u.chapterName);j=o.routeChapterName,F=u.sectionName,e.chapterName=c.getProcessedString(j,"-"," ");var a,n,i,s=c.getProcessedString(F,"-"," "),l=c.getCourseName(),p="Practice "+e.chapterName.toUpperCase()+" Questions Online for Free | Practice "+s.toUpperCase()+" Questions with Solutions & Analysis | "+l+" Free Online Preparation",d=s.toUpperCase()+" | "+e.chapterName.toUpperCase()+" | Free "+l+" Practice";window&&(n=window.location.host,i=window.location.pathname,a="https://"+n+i),e.metaTagService.setMetaTags(d,p),e.metaTagService.setCanonicalUrl(a),showLoader("Loading Practice. Please Wait."),e.queArr=[],H=e.getResponsesMap(),V=e.getQueArr(),U=e.getChapterIdToBookmarkMap(),W=c.getPhpVariables(),z=e.getPracticeSitemap(),e.currentChapterId=o.chapterId,S=e.chapterIdToChapterDetailsMap[e.currentChapterId].lang?e.chapterIdToChapterDetailsMap[e.currentChapterId].lang:S,e.viewAllUrl="//"+n+i,G=getURLParameterValue("page"),x=G,G?e.metaTagService.setIsShowCanonicalUrl(!0):e.metaTagService.setIsShowCanonicalUrl(!1),e.isShowCloseBtn=!("current"==G),J=e.getQueIdToNoMap()||{},q=e.getQueNoToIdMap()||{};var h="";if(e.totalQueCount=Object.keys(J).length||e.getTotalQueCount(e.currentChapterId),parseInt(G)){var g="",m="";G>1?(g=e.viewAllUrl+"?page="+(parseInt(G)-1),e.metaTagService.setMetaPrev(g),e.metaTagService.setIsShowMetaPrev(!0)):e.metaTagService.setIsShowMetaPrev(!1),G<parseInt(e.totalQueCount/r)+1?(m=e.viewAllUrl+"?page="+(parseInt(G)+1),e.metaTagService.setMetaNext(m),e.metaTagService.setIsShowMetaNext(!0)):e.metaTagService.setIsShowMetaNext(!1)}Y=0;var C=r,k=(parseInt(G)||1)*r-C;if(e.currentCourseId=W.currentCourseId,Object.keys(H).length||V&&V.length)parseInt(G)?(M=!0,Y=parseInt(G)*r,C=Y>e.totalQueCount?e.totalQueCount:Y,D(Y-r,C)?(Q(parseInt(G)*r-r,r),K=!0,X=!0,Z=!0,R(),y(),_()):(X=!0,L(W.currentCourseId,e.currentChapterId,k,C,""))):(X=!0,M=!0,h=J[b(H)]?b(H):"",L(W.currentCourseId,e.currentChapterId,k,C,h));else if(E(J),e.$parent.sid==-1){X=!0;var f=c.getFromSessionStorage("practiceResponse")||{},v=f[W.currentCourseId]||{};v.hasOwnProperty(e.currentChapterId)&&(e.setResponsesMap(c.getCustomMap(v[e.currentChapterId],"qid","",!0)),H=e.getResponsesMap()),parseInt(G)?G?L(W.currentCourseId,e.currentChapterId,k,C,""):L(W.currentCourseId,e.currentChapterId,0,e.totalQueCount,""):(h=J[b(H)]?b(H):"",L(W.currentCourseId,e.currentChapterId,k,C,h))}else N(W.currentCourseId,e.currentChapterId,G);e.$parent.sid==-1||Object.keys(c.bookmarkedQidMap).length||c.getBookmarkedQids(e.$parent.sid)};ee(),e.watchForMathJaxRenderingHelper=function(){MathJax.Hub.Queue(["Typeset",MathJax.Hub]),e.showMathJaxAlert("Loading MathJax... Please wait.<br>Taking too long? <a onclick='window.location.reload()' href='#'>Click here</a>"),MathJax.Hub.Register.StartupHook("End Typeset",function(){e.hideMathJaxAlert()})},e.watchForMathJaxRendering=function(){l(function(){if("undefined"!=typeof MathJax&&MathJax.isReady)e.watchForMathJaxRenderingHelper();else var t=p(function(){"undefined"!=typeof MathJax&&MathJax.isReady?(e.hideMathJaxAlert(),p.cancel(t),e.watchForMathJaxRenderingHelper()):e.showMathJaxAlert("Unable to load MathJax.<br>Please check your network connection. <a onclick='window.location.reload()' href='#'>Reload</a>");
},5e3,0,!0)},20,!0)},e.$watch("queArr",e.watchForMathJaxRendering,angular.equals)}]),e.controller("PracticeController",["$scope","$rootScope","TB","testService","metaTagService","$location","practiceCommonService","$routeParams",function(e,t,r,a,i,s,c,u){t.isQuestionView=!1,e.mathJaxErrorMsgHTML="",e.showMathJaxAlert=function(t){""!=t&&(e.mathJaxErrorMsgHTML=a.parseHTML(t))},e.hideMathJaxAlert=function(){e.mathJaxErrorMsgHTML=""},e.sectionNameToSectionDetailsMap={},e.chapterIdToChapterDetailsMap={},e.setQueArr=function(t){e.queNoArr=t},e.getQueArr=function(){return e.queNoArr},e.setQueIdToNoMap=function(t){e.queIdToNoMap=t},e.setQueNoToIdMap=function(t){e.queNoToIdMap=c.generateValueToKeyMap(t)},e.getQueIdToNoMap=function(){return e.queIdToNoMap},e.getQueNoToIdMap=function(){return e.queNoToIdMap},e.setResponsesMap=function(t){e.responsesMap=t},e.getLoadingObj=function(){return e.loadingObj},e.setLoadingObj=function(t){e.loadingObj=t},e.getResponsesMap=function(){return e.responsesMap},e.getTotalQueCount=function(t){return t?e.chapterIdToChapterDetailsMap[t].totalQues||0:0},e.getPracticeBookmarks=function(){return e.practiceBookmarks||[]},e.getChapterIdToBookmarkMap=function(){return e.chapterIdToBookmarkMap||{}},e.getPracticeSitemap=function(){return e.practiceSitemap},e.setPracticeSitemap=function(t){e.practiceSitemap=t},e.setCloseBtnUrl=function(t){e.closeBtnUrlOnListView=t},e.getCloseBtnUrl=function(){return e.closeBtnUrlOnListView},e.practiceSitemap={};var l=function(t){var r=c.getProcessedString(t.chapterName," ","-").toLowerCase(),o=c.getProcessedString(t.section," ","-").toLowerCase(),a=e.baseUrl+o+"/"+r+"-"+t.chapterId+"?page=current";return{chapterName:t.chapterName,title:t.chapterName||"",chapterId:t.chapterId||"",totalQues:t.qcount||0,url:a||"",isShow:!0,section:t.section,activeClass:"",correctQues:0,incorrectQues:0,skippedQues:0,attemptedQues:0,unseenQues:t.qcount||0,accuracy:0,correctTime:0,incorrectTime:0,skippedTime:0,attemptedTime:0,totalTime:0,isAttempted:!1,lang:t.lang?t.lang:"",updatedOn:new Date(c.INITIAL_TIME).getTime()}};e.chapterIdToBookmarkMap={},e.totalBookmarks=0;var p=function(t){t=validateArr(t),e.totalBookmarks=0;for(var r=0;r<t.length;r++)e.chapterIdToBookmarkMap[t[r].chapterId]=t[r],e.totalBookmarks+=t[r].qids.length},d=function(t){for(var r in e.chapterIdToChapterDetailsMap)if(t[r]&&e.chapterIdToChapterDetailsMap.hasOwnProperty(r)){var o=e.chapterIdToChapterDetailsMap[r];o.correctQues=t[r]&&t[r].correct&&t[r].correct.count||0,o.incorrectQues=t[r]&&t[r].incorrect&&t[r].incorrect.count||0,o.skippedQues=t[r]&&t[r].skipped&&t[r].skipped.count||0,o.attemptedQues=o.correctQues+o.incorrectQues||0,o.unseenQues=o.totalQues-(o.attemptedQues+o.skippedQues)||0,o.accuracy=e.getPercentage(o.correctQues,o.attemptedQues)||0,o.correctTime=t[r]&&t[r].correct&&t[r].correct.time||0,o.incorrectTime=t[r]&&t[r].incorrect&&t[r].incorrect.time||0,o.skippedTime=t[r]&&t[r].skipped&&t[r].skipped.time||0,o.attemptedTime=o.correctTime+o.incorrectTime,o.totalTime=o.attemptedTime+o.skippedTime,o.updatedOn=t[r]&&new Date(t[r].updatedOn).getTime(),o.isAttempted=!0}};e.updateAnalysis=function(t,r,o,a,n,i){var s=e.chapterIdToChapterDetailsMap[t],u=e.sectionNameToSectionDetailsMap[s.section.toLowerCase()];s.isAttempted=!0,s.updatedOn=(new Date).getTime(),h(s,r,o,a,n,i),h(u,r,o,a,n,i),e.sid==-1&&c.setToSessionStorage("chapterMap-"+e.phpVariables.currentCourseId,e.chapterIdToChapterDetailsMap)};var h=function(t,r,o,a,n,i){if(n){var s=function(e,t,r){"correctQues"==t?e.correctTime-=r:"incorrectQues"==t?e.incorrectTime-=r:"skippedQues"==t&&(e.skippedTime-=r)};t&&(a&&(t.skippedQues+=1,t.skippedTime+=i),t[r]-=1,t.attemptedQues="skippedQues"!=r?t.attemptedQues-1:t.attemptedQues,t.unseenQues=t.totalQues-(t.attemptedQues+t.skippedQues),t.accuracy=e.getPercentage(t.correctQues,t.attemptedQues),t.completedPercentage=e.getPercentage(t.attemptedQues,t.totalQues),s(t,r,o))}else{var s=function(e,t,r){"correctQues"==t?e.correctTime+=r:"incorrectQues"==t?e.incorrectTime+=r:"skippedQues"==t&&(e.skippedTime+=r)};t&&(a&&(t.skippedQues-=1,t.skippedTime-=i),t[r]+=1,t.attemptedQues="skippedQues"!=r?t.attemptedQues+1:t.attemptedQues,t.unseenQues=t.totalQues-(t.attemptedQues+t.skippedQues),t.accuracy=e.getPercentage(t.correctQues,t.attemptedQues),t.completedPercentage=e.getPercentage(t.attemptedQues,t.totalQues),s(t,r,o))}};e.addBookmarkToChapterObj=function(t,r){if(e.chapterIdToBookmarkMap[t]){var o=e.chapterIdToBookmarkMap[t].qids;o.indexOf(r)!=-1?(o.splice(o.indexOf(r),1),e.totalBookmarks-=1):(o.push(r),e.chapterIdToBookmarkMap[t].lastBookmarkedOn=ISODateString(new Date),e.totalBookmarks+=1)}else e.chapterIdToBookmarkMap[t]={},e.chapterIdToBookmarkMap[t].qids=[r],e.chapterIdToBookmarkMap[t].lastBookmarkedOn=ISODateString(new Date),e.totalBookmarks+=1;e.chapterIdToChapterDetailsMap[t].bookmarkCount=e.chapterIdToBookmarkMap[t].qids.length},e.getQuestionCount=function(t,r){return e.chapterIdToChapterDetailsMap[t]&&e.chapterIdToChapterDetailsMap[t][r]||0},e.sidebarScope={tagsArr:[],searchedTag:""};var g={};g.getCategoryTagsMapHelper=function(e,t){return e=e?e:{chapterIdsArr:[],totalQues:0},e.chapterIdsArr.push({id:t.chapterId,isShow:!0}),e.totalQues+=t.qcount||0,e},g.getCategoryTagsMap=function(t,r){for(var o={},a={},n=0;n<t.length;n++){var i=t[n][r];o[i]=g.getCategoryTagsMapHelper(o[i],t[n]),a[t[n].chapterId]=l(t[n]),n<t.length-1?a[t[n].chapterId].nextChapter=t[n+1].chapterId:a[t[n].chapterId].nextChapter=t[0].chapterId}e.chapterIdToChapterDetailsMap=a;var s=c.getFromSessionStorage("chapterMap-"+e.phpVariables.currentCourseId)||{};return e.sid!=-1||c.isEmptyObj(s)||(e.chapterIdToChapterDetailsMap=s),"-1"==e.sid&&(e.analysisScope.sectionArr=e.analysisScope.getSectionAnalysisArr(e.chapterIdToChapterDetailsMap),e.sectionNameToSectionDetailsMap=c.getCustomMap(e.analysisScope.sectionArr,"title","",!0)),o},e.sidebarScope.chapterNameToIdMap={},g.getCategorizedTagsArr=function(t){t=validateArr(t);var r=[],o=g.getCategoryTagsMap(t,"section");e.sidebarScope.chapterNameToIdMap=c.getCustomMap(t,"chapterName","chapterId",!1);for(var a in o)o.hasOwnProperty(a)&&r.push({section:a,chapters:o[a].chapterIdsArr,totalQues:o[a].totalQues,isShow:!0});return r},e.isBookmarksApiCompleted=!1,e.practiceBookmarks=[];var m=function(t){var o=function(t){e.isBookmarksApiCompleted=!0,e.practiceBookmarks=t.data.chapterWiseQuestions,p(e.practiceBookmarks),P()},a=function(e){e?showAlert("Something went wrong, Please contact support (support@testbook.com)","error","small",8e3):showAlert("Please check your internet connection.","error","small",8e3),hideLoader()},n={type:"practiceQuestion",courseId:f.currentCourseId};r.getCourseBookmarks(t,n,o,a)};e.bookmarkNavBtnClicked=function(){e.toggleSidebarOnMobile(!0),e.sid==-1&&e.openOnBoardingModal("Create a free account to save your questions!","No, I don't want to save my  questions!","bookmark",!0)},e.sidebarScope.showActiveChapter=function(t){if(e.$broadcast("detachListenerEvent",!0),t){e.setQueArr([]),e.setResponsesMap({}),e.queIdToNoMap={};var r=function(e,t){for(var r=0;r<e.length;r++)if(e[r].id==t)return!0;return!1};for(var o in e.chapterIdToChapterDetailsMap)e.chapterIdToChapterDetailsMap.hasOwnProperty(o)&&(e.chapterIdToChapterDetailsMap[o].activeClass="");for(var a=0;a<e.sidebarScope.tagsArr.length;a++)r(e.sidebarScope.tagsArr[a].chapters,t)&&g.togglePanel(a,"show",e.sidebarScope.tagsArr[a]);e.chapterIdToChapterDetailsMap[t].activeClass="active",e.chapterIdToChapterDetailsMap[t].isAttempted=!0,(isMobile||$(window).width()<screenSize.sm)&&e.toggleSidebar(!0)}},g.getTotalQuestions=function(e){e=validateArr(e);for(var t=0,r=0;r<e.length;r++)t+=e[r].qcount||0;return t};var S=function(e){for(var t=0;t<e.length;t++)e[t].chapterName=e[t].chapterName.replace(/[&\/\\#,+()$~%.'":*?<>{}]/g,"-"),e[t].section=e[t].section.replace(/[&\/\\#,+()$~%.'":*?<>{}]/g,"-");return e};e.sidebarScope.apiCount=0,e.isChapterTagsApiCompleted=!1,g.getPracticeTags=function(){var t=function(t){e.isChapterTagsApiCompleted=!0,t.data=S(t.data),e.sidebarScope.tagsArr=g.getCategorizedTagsArr(t&&t.data),g.setOverallContent(e.sidebarScope.tagsArr,t),P()},o=function(e){e?showAlert("Something went wrong, Please contact support (support@testbook.com)","error","small",8e3):showAlert("Please check your internet connection.","error","small",8e3),hideLoader()};r.getPracticeTags(f.currentCourseId,t,o)},g.setOverallContent=function(t,r){e.sidebarScope.overallContent={subjects:t&&t.length||0,chapters:r&&r.data&&r.data.length||0,questions:g.getTotalQuestions(r&&r.data)}};var C=function(t,r){for(var o=!1,a=0;a<t.length;a++){var n=e.chapterIdToChapterDetailsMap[t[a].id]||{};n.chapterName.toLowerCase().search(r.toLowerCase())!=-1?(t[a].isShow=!0,o=!0):t[a].isShow=!1}return o};e.filterTags=function(t){for(var r=0;r<e.sidebarScope.tagsArr.length;r++)C(e.sidebarScope.tagsArr[r].chapters,t)&&t?(e.sidebarScope.tagsArr[r].isShow=!0,g.togglePanel(r,"show",e.sidebarScope.tagsArr[r])):t?(e.sidebarScope.tagsArr[r].isShow=!1,g.togglePanel(r,"hide",e.sidebarScope.tagsArr[r])):(e.sidebarScope.tagsArr[r].isShow=!0,g.togglePanel(r,"hide",e.sidebarScope.tagsArr[r]))},g.togglePanel=function(e,t,r){setTimeout(function(){$("#chapter_"+e).collapse(t),r.bodyClass="show"==t?"collapse in":"collapse"},1e3)},e.analysisScope={};var k={analysisArr:[]};e.isAnalysisApiCompleted=!1,k.getAnalysis=function(){var t=function(t){e.isAnalysisApiCompleted=!0,e.analysisScope.response=t&&t.data||{},P()},o=function(e){e?showAlert("Something went wrong, Please contact support (support@testbook.com)","error","small",8e3):showAlert("Please check your internet connection.","error","small",8e3),hideLoader()};r.getPracticeAnalysis(f.currentCourseId,t,o)},k.getAnalysisHelper=function(){if(d(e.analysisScope.response),e.analysisScope.sectionArr=e.analysisScope.getSectionAnalysisArr(e.chapterIdToChapterDetailsMap),e.sectionNameToSectionDetailsMap=c.getCustomMap(e.analysisScope.sectionArr,"title","",!0),u.chapterName){var t=c.getRouteVars(u.chapterName).chapterId;t&&e.sidebarScope.showActiveChapter(t)}},k.initializeSectionObject=function(e){return{correctQues:0,incorrectQues:0,skippedQues:0,attemptedQues:0,totalQues:0,correctTime:0,incorrectTime:0,skippedTime:0,attemptedTime:0,totalTime:0,accuracy:0,title:e,completedPercentage:0}},e.analysisScope.getSectionAnalysisArrHelper=function(t,r){return t.correctQues+=r.correctQues||0,t.incorrectQues+=r.incorrectQues||0,t.skippedQues+=r.skippedQues||0,t.attemptedQues+=r.correctQues+r.incorrectQues,t.totalQues+=r.totalQues,t.correctTime+=r.correctTime||0,t.incorrectTime+=r.incorrectTime||0,t.skippedTime+=r.skippedTime||0,t.attemptedTime+=r.correctTime+r.incorrectTime,t.totalTime+=r.correctTime+r.incorrectTime+r.skippedTime,t.accuracy=e.getPercentage(t.correctQues,t.attemptedQues)||0,t.completedPercentage=e.getPercentage(t.attemptedQues,t.totalQues),t.isShowInDetailedAnalysis=!0,t},e.analysisScope.getSectionAnalysisArr=function(t){var r={};for(var o in t)if(t.hasOwnProperty(o)){var a=t[o];r[a.section]||(r[a.section]=k.initializeSectionObject(a.section)),r[a.section]=e.analysisScope.getSectionAnalysisArrHelper(r[a.section],a)}return c.getMapToArr(r,"title")},e.getPercentage=function(e,t){return e=e?e:0,t=t?t:0,e=e>t?t:e,getRoundedFloat(e/t*100,2)},e.isSidebarOpen=!1,e.arrowScrollValue=0,e.questionNavScrollValue=0,window.innerWidth>=768&&(e.isSidebarOpen=!0),e.toggleSidebar=function(t){e.isSidebarOpen=!t},e.toggleSidebarOnMobile=function(t){return e.$broadcast("detachListenerEvent",!0),!!isMobile&&void(e.isSidebarOpen=!t)};var f={};e.allQids={};var v=[],w=0,T=0,A=function(t,a,n){var i={};0==Object.keys(c.getFromSessionStorage(o)||{}).length?(c.setToSessionStorage(o,{sessionStart:!0}),i.sessionStart=!0):i.sessionStart=!1,i.date=ISODateString(new Date);var s=function(t){I(e.sid)},u=function(e){e?showAlert("Something went wrong, Please try again or contact support@testbook.com","error","small",5e3):showAlert("Please check your internet connection.","error","small",8e3)};r.submitPracticeResponse(i,a,n,t,s,u)};e.closeSyncPrompt=function(){sessionStorage.removeItem("practiceResponse"),sessionStorage.removeItem(n),$("#syncingCallPrompt").modal("hide"),window.location.reload()};var I=function(t){var r=c.getFromSessionStorage(n)||[];if(r.length){var o="",a="",i=r.length&&r.shift()||{},s=[];s.push(i);for(var u={courseId:i.courseId||"",chapterId:i.chapterId||""};r.length>0;)if(o=r[0].courseId||"",a=r[0].chapterId||"",o&&a){if(a!=u.chapterId||o!=u.courseId)break;i=r.shift(),s.push(i),u.chapterId=i.chapterId,u.courseId=i.courseId}for(var l=0;l<s.length;l++)s[l].sid=t;c.setToSessionStorage(n,r),A(s,u.courseId,u.chapterId)}else e.closeSyncPrompt(),hideLoader()};e.isShowParentAppUI=!1;var P=function(){if(e.isChapterTagsApiCompleted&&e.isAnalysisApiCompleted&&e.isBookmarksApiCompleted){if(e.sid!=-1)k.getAnalysisHelper();else if(u.chapterName){var t=c.getRouteVars(u.chapterName).chapterId;t&&e.sidebarScope.showActiveChapter(t)}e.isShowParentAppUI=!0,hideLoader()}};e.yesBtnClickedFromModal=function(){w=0,v={},T=1,showLoader("Please wait, we are syncing your data..."),I(e.sid)},e.closePracticeOnBoardingModal=function(){$("#tbOnBoardingModal").modal("hide"),$(".js-practice-onboarding-iframe").attr("src","about:blank")},e.openOnBoardingModal=function(t,r,o,a){void 0===t?e.onBoardingPromptTitle="Create a profile to save your progress!":e.onBoardingPromptTitle=t,void 0===r?e.onBoardingClosePromptTitle="No, I don't want to save my questions!":e.onBoardingClosePromptTitle=r,void 0===o?e.onBoardingImgType="signup":e.onBoardingImgType=o;var n,i;void 0===a?(e.closingModalAccessible=!0,n=!0,i=!0):(e.closingModalAccessible=a,n=a,i=a?a:"static");var s="/login?tile=signup&modal=true";$(".js-practice-onboarding-iframe").attr("src",s),$("#tbOnBoardingModal").modal({show:!0,keyboard:n,backdrop:i})},e.pauseBtnClicked=function(r){r.stopPropagation&&r.stopPropagation(),r.preventDefault&&r.preventDefault(),r.cancelBubble=!0,r.returnValue=!1,t.showChapterAnalysis(),t.isShowChapterAnalysisFromSummary=!1,(isMobile||$(window).width()<screenSize.sm)&&e.toggleSidebar(!0)},e.resumeBtnClicked=function(r,o){o&&(r.stopPropagation&&r.stopPropagation(),r.preventDefault&&r.preventDefault(),r.cancelBubble=!0,r.returnValue=!1,t.showChapterAnalysis(),t.isShowChapterAnalysisFromSummary=!1,(isMobile||$(window).width()<screenSize.sm)&&e.toggleSidebar(!0))},e.deleteDataFromStorage=function(){var t=c.getFromSessionStorage("practiceResponse")||{};delete t[e.phpVariables.currentCourseId],c.setToSessionStorage("practiceResponse",t)},e.loadingObj={},e.lsStuData={},c.isEnrolledInCourse=!1;var b,q=function(e){e=validateArr(e);for(var t=0;t<e.length;t++)if(f.currentCourseId==e[t].course.id&&!e[t].course.isInactive)return!0;return!1},N=function(t){t.hasOwnProperty("message")?showAlert(t.message||"Something went wrong please contact at support@testbook.com","error","small",5e3):(e.lsStuData=t.data||{},c.isEnrolledInCourse=q(e.lsStuData.enrollments||[]),c.isEnrolledInCourse&&e.lsStuData.currentCourse&&e.lsStuData.currentCourse.id!==f.currentCourseId&&c.changeCurrentCourse(f.currentCourseId))},O=function(){e.Math=window.Math,e.closeBtnUrlOnListView="",e.COURSE_NAME=c.getCourseName(),e.metaTagService=i,t.isRemoveActiveClass=!0,showLoader("Loading Practice. Please Wait."),e.setResponsesMap({}),e.setQueArr([]),e.setQueIdToNoMap({}),e.sid=a.getSID(),f=c.getPhpVariables(),e.phpVariables=c.getPhpVariables(),e.baseUrl="/"+f.currentCourseUrl+"-practice/",e.bookmarkUrl="#",e.sid!=-1?(TB.GetStudentFromStorage(N),c.getFromSessionStorage("chapterMap-"+e.phpVariables.currentCourseId)&&sessionStorage.removeItem("chapterMap-"+e.phpVariables.currentCourseId),e.bookmarkUrl=e.baseUrl+"bookmarks",b=c.getFromSessionStorage("practiceResponse")||{},e.responseObj=b[e.phpVariables.currentCourseId]||{},Object.keys(e.responseObj).length&&$("#syncingCallPrompt").modal(),m(e.sid),k.getAnalysis()):(e.isAnalysisApiCompleted=!0,e.isBookmarksApiCompleted=!0),g.getPracticeTags(),initScrollSidebarElemIntoViewport()};O()}]),e.run(["$rootScope",function(e){e.$on("$includeContentLoaded",function(e,t){initOnboardingModalEvents()})}])}();
var TB=TB||{};!function(){function a(){return{restrict:"E",scope:{currentLanguage:"="},controller:["$scope","TB",e],template:'<div class="modal" id="langChangeModal" tabindex="-1" role="dialog" aria-labelledby="langChangeLabel" aria-hidden="true" data-backdrop="static" data-keyboard="false"><div class="modal-dialog"><div class="modal-content"><div class="modal-body"><h4 class="text-left"> Do you want to set your default language to {{ (currentLanguage == "hn") ? "Hindi" : "English"}}</h4></div><div class="modal-footer"><button class="btn btn-theme" ng-click="languageUnchanged(studentID)">No</button><button class="btn btn-default" ng-click="changeGlobalLanguage(currentLanguage)">Yes</button></div></div></div></div>'}}function e(a,e){function n(){var e=function(e){e&&e.data&&(e.data.tblang||getLocalStorage(e.data._id+t)||(a.studentID=e.data._id,$("#"+o).modal({keyboard:!1,backdrop:"static",show:!0})))};TB.GetStudentFromStorage(e)}var t="_changeLangTriggered",o="langChangeModal";a.$on("triggerLangChangePopup",function(a,e){n()}),a.changeGlobalLanguage=function(a){var n=function(){forceSessionRefresh()},t=function(a){showAlert(a&&a.message||"Unable to change language. Please try later from setting","error","sm",3e3)};$("#"+o).modal("hide"),params={tblang:a},e.saveProfile(params,n,t)},a.languageUnchanged=function(a){$("#"+o).modal("hide"),setLocalStorage(a+t,!0,1)}}angular.module("globalLanguage",["Testbook"]).directive("setLanguage",a)}();